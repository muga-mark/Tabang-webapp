(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){},168:function(e,t,a){},216:function(e,t,a){e.exports=a.p+"static/media/va_new.98328ec1.png"},217:function(e,t,a){e.exports=a.p+"static/media/va_otw.9b8b8c7d.png"},218:function(e,t,a){e.exports=a.p+"static/media/va_fin.009e2641.png"},219:function(e,t,a){e.exports=a.p+"static/media/pi_new.efcc30a5.png"},220:function(e,t,a){e.exports=a.p+"static/media/pi_otw.c25dae61.png"},221:function(e,t,a){e.exports=a.p+"static/media/pi_fin.14bd78e7.png"},222:function(e,t){e.exports="data:image/png;base64,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"},223:function(e,t){e.exports="data:image/png;base64,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"},35:function(e,t,a){},428:function(e,t,a){e.exports=a.p+"static/media/incident_new.2f1c63c0.png"},441:function(e,t,a){e.exports=a(849)},847:function(e,t,a){},848:function(e,t,a){},849:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(78),s=a.n(l),o=a(25),i=a(10),c=a(11),u=a(13),d=a(12),m=a(14),p=a(24),f=a(873),h=a(872),E=a(874),g=a(866),b=a(851),v=a(415),y=a.n(v),N=a(149),C=a.n(N),A={apiKey:"AIzaSyBgzYBdUhkg4o-015KSPN0BYX9YrctNdG0",authDomain:"emergencyresponsesystem-57dc4.firebaseapp.com",databaseURL:"https://emergencyresponsesystem-57dc4.firebaseio.com",projectId:"emergencyresponsesystem-57dc4",storageBucket:"emergencyresponsesystem-57dc4.appspot.com",messagingSenderId:"583480520859"},V=C.a.initializeApp(A),w=C.a.initializeApp(A,"Secondary"),x=V,R=(a(168),a(7)),q=a.n(R),U=a(26),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).progress=function(){var e=a.state.completed;a.setState({completed:e>=100?0:e+1})},a.login=a.login.bind(Object(p.a)(Object(p.a)(a))),a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a.state={emailVerified:!1,email:"",password:"",emailError:"",passwordError:"",completed:0,error:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t=x.auth().currentUser;console.log("userProfile",t),null!=t&&(e=t.emailVerified,console.log("isEmailVerified: ",e),this.setState({emailVerified:e}),console.log("isEmailVerified2: ",e))}},{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"login",value:function(e){var t=this;e.preventDefault(),x.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then(function(e){}).catch(function(e){var a=e.message;console.log(a),t.setState({err:a})});var a=this.props.onClick,n=this.state,r=n.email,l=n.password;a&&(this.setState({submitting:!0}),a(r,l)),""===r?(this.setState({emailError:!0}),console.log("Blank email field")):this.setState({emailError:!1}),""===l?(this.setState({passwordError:!0}),console.log("Blank password field")):this.setState({passwordError:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-form"},r.a.createElement(f.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(f.a.Column,{style:{maxWidth:450}},r.a.createElement(h.a,{stacked:!0},r.a.createElement(E.a,{as:"h2",color:"red",textAlign:"center"},"Personnel Login"),r.a.createElement(g.a,{size:"large"},r.a.createElement(g.a.Input,{fluid:!0,icon:"user",iconPosition:"left",type:"email",placeholder:"E-mail address",name:"email",value:this.state.email,error:this.state.emailError,onChange:this.handleChange}),r.a.createElement(g.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",name:"password",value:this.state.password,error:this.state.passwordError,onChange:this.handleChange}),r.a.createElement("div",{className:"space"}),r.a.createElement(b.a,{inverted:!0,color:"red",fluid:!0,size:"large",onClick:this.login},this.state.passwordError||this.state.emailError?"Login":this.state.submitting?r.a.createElement(y.a,{classname:this.progress,style:{color:"#fff"},color:"inherit",size:16,variant:"determinate",value:this.state.completed}):"Login"),r.a.createElement("p",{className:"catchError"},this.state.err),this.state.emailError||this.state.passwordError?r.a.createElement("p",{className:"catchError"},"Please do not leave any of the fields blank."):null,r.a.createElement("div",{style:{marginTop:"10px",marginLeft:"235px"}},r.a.createElement(U.a,{to:"/ForgotAccount"},"Forgot Account")))))))}}]),t}(n.Component),O=(a(35),a(871)),P=a(81),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={activeItem:""},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.state={emailVerified:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){x.auth().signOut()}},{key:"render",value:function(){var e,t,a,n,l=this.state.activeItem;return e=r.a.createElement(U.a,{to:"/CreateNewAccount"},r.a.createElement(O.a.Item,{name:"create user account",active:"create user account"===l,onClick:this.handleItemClick},r.a.createElement(P.a,{name:"add user"})," Create New Account")),n=r.a.createElement(U.a,{to:"/Archives"},r.a.createElement(O.a.Item,{name:"archives",active:"archives"===l,onClick:this.handleItemClick},r.a.createElement(P.a,{name:"archive"})," Archives")),t=r.a.createElement(O.a.Item,{name:"Unverified Mobile Users",active:"Unverified Mobile Users"===l,onClick:this.handleItemClick},r.a.createElement(P.a,{name:"mobile"})," Unverified Mobile Users",r.a.createElement(O.a.Menu,null,r.a.createElement(U.a,{to:"/UnverifiedResponders"},r.a.createElement(O.a.Item,{name:"Responder",active:"Responder"===l,onClick:this.handleItemClick},"Responder")),r.a.createElement(U.a,{to:"/UnverifiedVolunteers"},r.a.createElement(O.a.Item,{name:"Volunteer",active:"Volunteer"===l,onClick:this.handleItemClick},"Volunteer")),r.a.createElement(U.a,{to:"/UnverifiedRegularUsers"},r.a.createElement(O.a.Item,{name:"Regular User",active:"Regular User"===l,onClick:this.handleItemClick},"Regular User")))),a=r.a.createElement(O.a.Item,{name:"View All Accounts",active:"View All Accounts"===l,onClick:this.handleItemClick},r.a.createElement(P.a,{name:"users"})," Manage Accounts",r.a.createElement(O.a.Menu,null,r.a.createElement(U.a,{to:"/AccountsAdmin"},r.a.createElement(O.a.Item,{name:"Administrator",active:"Administrator"===l,onClick:this.handleItemClick},"Administrator")),r.a.createElement(U.a,{to:"/AccountsCCP"},r.a.createElement(O.a.Item,{name:"Command Center Personnel",active:"Command Center Personnel"===l,onClick:this.handleItemClick},"Command Center Personnel")),r.a.createElement(U.a,{to:"/AccountsResponder"},r.a.createElement(O.a.Item,{name:"Responder",active:"Responder"===l,onClick:this.handleItemClick},"Responder")),r.a.createElement(U.a,{to:"/AccountsVolunteer"},r.a.createElement(O.a.Item,{name:"Volunteer",active:"Volunteer"===l,onClick:this.handleItemClick},"Volunteer")),r.a.createElement(U.a,{to:"/AccountsRegularUser"},r.a.createElement(O.a.Item,{name:"Regular User",active:"Regular User"===l,onClick:this.handleItemClick},"Regular User")))),r.a.createElement(O.a,{inverted:!0,pointing:!0,vertical:!0,icon:"labeled"},r.a.createElement(U.a,{to:"Home"},r.a.createElement(O.a.Item,{name:"home",active:"home"===l,onClick:this.handleItemClick},r.a.createElement(P.a,{name:"home"}),"Home")),r.a.createElement(U.a,{to:"Profile"},r.a.createElement(O.a.Item,{name:"profile",active:"profile"===l,onClick:this.handleItemClick},r.a.createElement(P.a,{name:"user circle"})," Profile")),e,t,a,n,r.a.createElement(O.a.Item,{name:"logout",active:"logout"===l,onClick:this.logout},r.a.createElement(P.a,{name:"sign out"})," Logout"))}}]),t}(n.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"Homepage"}))}}]),t}(n.Component),T=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui visible"},r.a.createElement("div",null,r.a.createElement(k,null)))}}]),t}(n.Component),D=a(59),B=a(869),M=a(865),F=a(870),I=a(431),L=a(868),H=a(860),z=a(22),Q=a.n(z);function W(e,t,a,n){var r=K(a-e),l=K(n-t),s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(K(e))*Math.cos(K(a))*Math.sin(l/2)*Math.sin(l/2);return(1e3*(6371*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))))).toFixed(2)}function K(e){return e*Math.PI/180}var X=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).dispatchMobileUser=function(){var e=a.props.incidentID,t=a.props.user_type;console.log("user_type: ".concat(t," uid: ").concat(a.props.id)),x.database().ref("mobileUsers/".concat(t,"/").concat(a.props.id)).update({incidentID:e})},a.state={isButtonDisabled:!1},(l=x.database().ref("mobileUsers/Responder/".concat(a.props.id,"/isAccepted"))).on("value",function(e){n=e.val(),a.setState({isAccepted:n}),!0===n&&a.setState({isButtonDisabled:!0})});var n,r,l=x.database().ref("mobileUsers/Volunteer/".concat(a.props.id,"/isAccepted"));return console.log("volunteer123",a.props.id),l.on("value",function(e){n=e.val(),a.setState({isAccepted:n}),!0===n&&a.setState({isButtonDisabled:!0})}),x.database().ref("mobileUsers/Volunteer/".concat(a.props.id,"/isRejected")).on("value",function(e){r=e.val(),a.setState({isRejected:r}),!0===r&&a.setState({isButtonDisabled:!0})}),console.log("certificate",a.props.certification),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,null,r.a.createElement(E.a,{as:"h4",image:!0},r.a.createElement(I.a,{src:"https://react.semantic-ui.com/images/avatar/small/elliot.jpg",rounded:!0,size:"mini"}),r.a.createElement(E.a.Content,null,r.a.createElement("p",{className:"colorBlue"},this.props.firstName," ",this.props.lastName),r.a.createElement(E.a.Subheader,null),r.a.createElement(E.a.Subheader,null,r.a.createElement("p",{className:"colorRed"},this.props.distance," m away"))))),r.a.createElement(L.a.Cell,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Content,null,r.a.createElement(g.a.Group,{widths:"3"},r.a.createElement(g.a.Field,null,r.a.createElement(E.a.Subheader,null,r.a.createElement("p",{className:"colorBlue"},r.a.createElement("b",null,"Distance:")," ",this.props.distance," m"))),r.a.createElement(g.a.Field,null,r.a.createElement(E.a.Subheader,null,r.a.createElement("p",{className:"colorBlue"},r.a.createElement("b",null,"Email:")," ",this.props.email))),r.a.createElement(g.a.Field,null,r.a.createElement(E.a.Subheader,null,r.a.createElement("p",{className:"colorBlue"},r.a.createElement("b",null,"Contact Number:")," ",this.props.contactNumber)))),r.a.createElement(g.a.Field,null,"Volunteer"===this.props.user_type?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a.Subheader,null,r.a.createElement("p",{className:"colorBlue"},r.a.createElement("b",null,"Certification:")," ",this.props.certification)),r.a.createElement(E.a.Subheader,null,r.a.createElement("p",{className:"colorBlue"},r.a.createElement("b",null,"Medical Degree:")," ",this.props.medicalDegree)),r.a.createElement(E.a.Subheader,null,r.a.createElement("p",{className:"colorBlue"},r.a.createElement("b",null,"Medical Profession:")," ",this.props.medicalProfession)),r.a.createElement(E.a.Subheader,null,r.a.createElement("p",{className:"colorBlue"},r.a.createElement("b",null,"Points:")," ",this.props.points))):null)))),r.a.createElement(L.a.Cell,null,r.a.createElement(b.a,{attached:"bottom",color:"red",onClick:this.dispatchMobileUser,disabled:this.state.isButtonDisabled},!0===this.state.isRejected?"Rejected":"Dispatch")))}}]),t}(n.Component),Z=a(80),G=(a(266),RegExp(/^[0-9\b]+$/),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).show=function(e){return function(){a.getRespondersList(),a.requestVolunteers(),a.setState({size:e,open:!0})}},a.showActiveRespondersList=function(e){return function(){a.setState({size2:e,open2:!0,open:!1,open3:!1})}},a.showActiveVolunteersList=function(e){return function(){a.setState({size3:e,open3:!0,open:!1,open2:!1})}},a.close=function(){return a.setState({open:!1})},a.closeActiveRespondersList=function(){return a.setState({open2:!1})},a.closeActiveVolunteersList=function(){return a.setState({open3:!1})},a.dispatchNumberOfRespondersHandler=function(e){(""==e.target.value||/^[0-9\b]+$/.test(e.target.value))&&a.setState({dispatchNumberOfResponders:e.target.value},function(){console.log("Number of Responders",a.state.dispatchNumberOfResponders)})},a.dispatchMultipleResponders=function(e){e.preventDefault(),console.log("dispatch multiple responders");var t=a.state.dispatchNumberOfResponders,n=a.state.activeResponders;if(Number(t)>a.state.dispatchNumberOfResponders.length)q()("Cannot dispatch a number more than available responders");else for(var r=0;r<Number(t);r++){x.database().ref("mobileUsers/Responder/".concat(n[r].key)).update({incidentID:a.props.incidentKey}).then(function(){console.log("".concat(n[r].key," dispatched"))})}},a.dispatchNumberOfVolunteersHandler=function(e){(""==e.target.value||/^[0-9\b]+$/.test(e.target.value))&&a.setState({dispatchNumberOfVolunteers:e.target.value},function(){console.log("Number of volunteers",a.state.dispatchNumberOfVolunteers)})},a.dispatchMultipleVolunteers=function(e){e.preventDefault(),console.log("dispatch multiple volunteers");var t=a.state.dispatchNumberOfVolunteers,n=a.state.bestVolunteers;if(Number(t)>a.state.dispatchNumberOfVolunteers.length)q()("Cannot dispatch a number more than available volunteers");else for(var r=0;r<Number(t);r++){x.database().ref("mobileUsers/Volunteer/".concat(n[r].key)).update({incidentID:a.props.incidentKey}).then(function(){console.log("".concat(n[r].key," dispatched"))})}},a.markRedundantReport=function(e){e.preventDefault(),console.log("redundant report"),q()(Object(o.a)({title:"Are you sure that this report is redundant?",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("incidents/".concat(a.props.incidentKey)).update({isRedundantReport:!0}).then(function(){console.log("report marked redundant in firebase"),q()("Successfully marked as redundant!")}).catch(function(){console.log("Error in marking report as redundant. ID: ".concat(a.props.incidentKey,"  "))}):q()("Mark redundant has been cancelled")})},a.getRespondersList=function(){var e,t;x.database().ref("mobileUsers/Responder").once("value",function(n){e=n.val(),a.setState({respondersList:a.extractActiveMobileUserDetails(e)},function(){t=function(e,t,a,n){var r,l={longitude:parseFloat(e),latitude:parseFloat(t)},s=[],o={};return console.log("shittt"),console.log("mobile users",n),Q.a.map(a,function(e,t){if(o=e,!e.isAccepted){o.uid=t;var a,i={latitude:parseFloat(e.coordinates.lat),longitude:parseFloat(e.coordinates.lng)};r=W(l.latitude,l.longitude,i.latitude,i.longitude),o.distance=r,"Volunteer"===n?r<=500&&(console.log("fuckeys",e.key),C.a.database().ref("credentials/".concat(e.key,"/points")).once("value",function(e){a=e.val(),o.points=a,console.log("points",o)}),s.push(o),console.log("nearest volunteerss",o)):"Responder"!==n||e.isAccepted||(s.push(e),console.log("nearest responders",o))}}),"Responder"===n&&s.sort(function(e,t){return parseFloat(e.distance)-parseFloat(t.distance)}),"Volunteer"===n&&(s.sort(function(e,t){return parseFloat(e.points)-parseFloat(t.points)}),console.log("nearest volunteers",s)),console.log("nearest fuc",s),s}(a.props.coordinates.lng,a.props.coordinates.lat,a.state.respondersList,"Responder"),console.log("activeRespondersList",e),a.setState({activeResponders:a.getUsersProfiles(t)},function(){console.log("new state",a.state.activeResponders)})})})},a.extractActiveMobileUserDetails=function(e){var t=e;return Q()(t).keys().map(function(e){var a=Q.a.clone(t[e]);return a.key=e,a}).value()},a.getUsersProfiles=function(e){var t,a={},n=[];return e.forEach(function(e){console.log("responder keys",e.key),x.database().ref("users/".concat(e.key)).once("value",function(r){t=r.val(),a=e,console.log("get user profiles",e.isAccepted),e.isAccepted||(a.uid=e.key,a.firstName=t.firstName,a.lastName=t.lastName,a.email=t.email,a.contactNumber=t.contactNumber,n.push(a)),console.log("user profile",a)})}),n},a.renderRespondersList=function(){return Q.a.map(a.state.activeResponders,function(e,t){return r.a.createElement(X,{firstName:e.firstName,lastName:e.lastName,id:e.uid,incidentID:a.props.incidentKey,distance:e.distance,contactNumber:e.contactNumber,email:e.email,user_type:"Responder"})})},a.requestVolunteers=function(){var e,t,n=[];x.database().ref("mobileUsers/Volunteer").once("value",function(r){e=r.val(),console.log("activeVolunteersa",e),Q.a.map(e,function(e,r){x.database().ref("users/".concat(r)).once("value",function(t){var a=t.val();e.uid=r,e.firstName=a.firstName,e.lastName=a.lastName,e.email=a.email,e.sex=a.sex,e.contactNumber=a.contactNumber,console.log("volunteerDetails",a)}).then(function(){x.database().ref("credentials/".concat(r)).once("value",function(a){var r=a.val();t=Object(D.a)({},e,r),n.push(t),console.log("tempVolunteerObject",n)}).then(function(){a.setState({temp:n},function(){console.log("asddgasggs",a.state.temp)})})}).catch(function(e){console.log("Error in fetching responders",e)})}),console.log("then",a.state.temp)}).then(function(){console.log("hehe");var e,t={longitude:parseFloat(a.props.coordinates.lng),latitude:parseFloat(a.props.coordinates.lat)},n=[],r=a.state.temp;Q.a.map(r,function(a,r){console.log("looping",a);var l={latitude:parseFloat(a.coordinates.lat),longitude:parseFloat(a.coordinates.lng)};e=W(t.latitude,t.longitude,l.latitude,l.longitude),a.distance=e,e<=500&&(n.push(a),console.log("asdfasr",n))}),a.setState({bestVolunteers:n},function(){console.log("fuck you",a.state.bestVolunteers)})})},a.renderVolunteersList=function(){return Q.a.map(a.state.bestVolunteers,function(e,t){return r.a.createElement(X,Object(o.a)({firstName:e.firstName,lastName:e.lastName,id:e.uid,incidentID:a.props.incidentKey,distance:e.distance,user_type:"Volunteer",email:e.email,contactNumber:e.contactNumber,points:e.points,certification:e.certification,medicalDegree:e.medicalDegree,medicalProfession:e.medicalProfession},"distance",e.distance))})},a.volunteerDispatch=function(){for(;a.state.m<=7;){a.state.bestVolunteers.forEach(function(e){for(var t=!1;0===!(a.state.s%30)||!a.state.isAccepted;){var n=x.database().ref("mobileUser/Volunteer/".concat(e.uid)),r=x.database().ref("mobileUser/Volunteer/".concat(e.uid,"/isAccepted"));n.update({incidentID:a.props.incidentKey}),r.once("child_changed",function(e){t=e.val(),a.setState({isAccepted:t})})}})}},a.getBestVolunteer=function(e){var t,n=x.database(),r=[];e.map(function(e,a){console.log("volunteer distance",e.distance),n.ref("credentials/".concat(e.uid)).once("value",function(a){(t=a.val()).uid=e.uid,t.distance=e.distance,r.push(t),console.log("volunteer uid",r)})}),r.sort(function(e,t){return e.points>t.points?1:e.points===t.points?1:-1}),a.setState({volunteerWithCredentials:r},function(){console.log("sorted setstate",a.state.volunteerWithCredentials)})},a.getRequestVolunteerDisplay=function(){return a.state.isRequestingVolunteers?"Request Additional Volunteers":"Request Volunteer"},a.getRequestResponderDisplay=function(){return a.state.isRequestingResponders?"Request Additional Responders":"Dispatch Responders"},a.state={firstName:"",lastName:"",responderFirstName:"",responderLastName:"",volunteerFirstName:"",volunteerLastName:"",open:!1,open2:!1,open3:!1,onlineVolunteers:[{}],bestVolunteers:[{}],respondersList:[{}],activeResponders:[{}],nearestVolunteers:[{}],isRequestingResponders:!1,isRequestingVolunteers:!1,timeReceived:"",noteIncident:"",volunteerAccept:!1,volunteerReject:!1,timeOut:!1,waitTime:!1,ms:"",s:"",m:"",dispatchNumberOfResponders:"",dispatchNumberOfVolunteers:"",formError:{incidentNote:""}},a.getRespondersList=a.getRespondersList.bind(Object(p.a)(Object(p.a)(a))),a.requestVolunteers();var n=Date.parse(a.props.timeReceived);return setInterval(function(e){var t=+new Date-+n,r=t%1e3,l=Math.floor(t/1e3)%60,s=Math.floor(t/6e4)%60;a.setState({ms:r,s:l,m:s})},10),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t,a=this,n=x.database().ref("incidents/".concat(this.props.incidentKey,"/isRequestingResponders")),l=x.database().ref("incidents/".concat(this.props.incidentKey,"/isRequestingVolunteers"));n.on("value",function(t){e=t.val(),a.setState({isRequestingResponders:e})}),l.on("value",function(e){t=e.val(),a.setState({isRequestingVolunteers:t})});var s,o,i=x.database().ref("incidents/".concat(this.props.incidentKey,"/isRespondingResponder")),c=x.database().ref("incidents/".concat(this.props.incidentKey,"/isRespondingResponderShown"));i.on("value",function(e){s=e.val(),a.setState({isRespondingResponder:s}),console.log("isRespondingResponder",s),!0===s&&setTimeout(function(){var e=x.database().ref("incidents/".concat(a.props.incidentKey));e.update({isRespondingResponderShown:!0}).then(function(){console.log("update isArrivedResponderShown",e)}).catch(function(){console.log("Error in marking report as redundant. ID: ".concat(a.props.incidentKey,"  "))})},7e3),c.on("value",function(e){if(o=e.val(),a.setState({isRespondingResponderShown:o}),console.log("isRespondingResponderShown",o),!0===s&&!1===o){var t=r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Incident Location:")," ",a.props.incidentLocation),r.a.createElement("p",null,"Responder ",r.a.createElement("b",null,a.props.originalResponderName)," has accepted this incident."));Z.NotificationManager.success(t,"",2e4)}})});var u,d,m=x.database().ref("incidents/".concat(this.props.incidentKey,"/isRespondingVolunteer")),p=x.database().ref("incidents/".concat(this.props.incidentKey,"/isRespondingVolunteerShown"));m.on("value",function(e){u=e.val(),a.setState({isRespondingVolunteer:u}),console.log("isRespondingVolunteer",u),!0===u&&setTimeout(function(){var e=x.database().ref("incidents/".concat(a.props.incidentKey));e.update({isRespondingVolunteerShown:!0}).then(function(){console.log("update isArrivedResponderShown",e)}).catch(function(){console.log("Error in marking report as redundant. ID: ".concat(a.props.incidentKey,"  "))})},7e3),p.on("value",function(e){if(d=e.val(),a.setState({isRespondingVolunteerShown:d}),console.log("isRespondingVolunteerShown",d),!0===u&&!1===d){var t=r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Incident Location:")," ",a.props.incidentLocation),r.a.createElement("p",null,"Volunteer ",r.a.createElement("b",null,a.props.originalVolunteerName)," has accepted this incident."));Z.NotificationManager.success(t,"",2e4)}})});var f,h,E=x.database().ref("incidents/".concat(this.props.incidentKey,"/isArrivedResponder")),g=x.database().ref("incidents/".concat(this.props.incidentKey,"/isArrivedResponderShown"));E.on("value",function(e){f=e.val(),a.setState({isArrivedResponder:f}),console.log("RESPONDER_ARRIVED",f),!0===f&&setTimeout(function(){var e=x.database().ref("incidents/".concat(a.props.incidentKey));e.update({isArrivedResponderShown:!0}).then(function(){console.log("update isArrivedResponderShown",e)}).catch(function(){console.log("Error in marking report as redundant. ID: ".concat(a.props.incidentKey,"  "))})},7e3),g.on("value",function(e){if(h=e.val(),a.setState({isArrivedResponderShown:h}),console.log("isRespondingVolunteerShown",h),!0===f&&!1===h){var t=r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Incident Location:")," ",a.props.incidentLocation),r.a.createElement("p",null,"Responder ",r.a.createElement("b",null,a.props.originalResponderName)," has arrrived at the incident."));Z.NotificationManager.success(t,"",2e4)}})});var b,v,y=x.database().ref("incidents/".concat(this.props.incidentKey,"/isArrivedVolunteer")),N=x.database().ref("incidents/".concat(this.props.incidentKey,"/isArrivedVolunteerShown"));y.on("value",function(e){b=e.val(),a.setState({isArrivedVolunteer:b}),console.log("RESPONDER_ARRIVED",b),!0===b&&setTimeout(function(){var e=x.database().ref("incidents/".concat(a.props.incidentKey));e.update({isArrivedVolunteerShown:!0}).then(function(){console.log("update isArrivedResponderShown",e)}).catch(function(){console.log("Error in marking report as redundant. ID: ".concat(a.props.incidentKey,"  "))})},7e3),N.on("value",function(e){if(v=e.val(),a.setState({isArrivedVolunteerShown:v}),console.log("isRespondingVolunteerShown",v),!0===b&&!1===v){var t=r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Incident Location:")," ",a.props.incidentLocation),r.a.createElement("p",null,"Volunteer ",r.a.createElement("b",null,a.props.originalVolunteerName)," has arrrived at the incident."));Z.NotificationManager.success(t,"",2e4)}})})}},{key:"render",value:function(){var e=this.state,t=e.open,a=e.size,n=this.state,l=n.open2,s=n.size2,o=this.state,i=o.open3,c=o.size3;this.state.formError;return r.a.createElement("div",null,!1===this.props.isRespondingResponder?r.a.createElement("div",{className:"inc_stat"}):null,r.a.createElement(B.a.Group,null,r.a.createElement(B.a,{color:"red",onClick:this.show("tiny")},r.a.createElement(B.a.Header,null,r.a.createElement("p",{className:"incidentStyleType"},r.a.createElement("b",null,this.props.incidentType)),r.a.createElement("p",{className:"incidentContent"},this.props.incidentKey),r.a.createElement("div",{style:{textAlign:"center",fontSize:"23px",fontFamily:"sans-serif",color:"red",paddingBottom:"4px"}},r.a.createElement("b",null,this.state.m,":",this.state.s,":",this.state.ms))),r.a.createElement(B.a.Content,null,r.a.createElement("p",{className:"incidentReportedBy",style:{fontSize:"14px"}},r.a.createElement("b",null,"Reported By:")," ",this.props.reporterName,!0===this.props.isRespondingResponder?r.a.createElement("div",null,r.a.createElement("b",null,"Responded By:")," ",this.props.originalResponderName):null,!0===this.props.isRespondingVolunteer?r.a.createElement("div",null,r.a.createElement("b",null,"Volunteer:")," ",this.props.originalVolunteerName):null),r.a.createElement(B.a.Description,null,r.a.createElement("b",null,this.props.incidentLocation)),r.a.createElement("br",null),!0===this.state.isRequestingVolunteers?r.a.createElement(B.a.Description,{extra:!0,style:{paddingBottom:"3px",paddingTop:"3px",color:"red",borderTop:"0px solid!important",fontSize:"12px"}},r.a.createElement("p",{className:"card-extra"},"Requesting Additional Volunteer ",r.a.createElement(P.a,{name:"warning circle"}))):null,!0===this.state.isRequestingResponders?r.a.createElement(B.a.Description,{extra:!0,style:{paddingBottom:"3px",paddingTop:"3px",color:"red",borderTop:"0px solid!important",fontSize:"12px"}},r.a.createElement("p",null,"Requesting Additional Responder ",r.a.createElement(P.a,{name:"warning circle"}))):null))),r.a.createElement(M.a,{size:a,open:t,onClose:this.close},r.a.createElement(M.a.Header,null,"New Emergency"),r.a.createElement(M.a.Content,null,r.a.createElement(F.a,{color:"blue"},r.a.createElement("div",{style:{textAlign:"center",fontSize:"30px",fontFamily:"sans-serif",paddingBottom:"5px"}},r.a.createElement("b",null,this.state.m,":",this.state.s,":",this.state.ms))),r.a.createElement("p",null,r.a.createElement("b",null,"Reported by:")," ",this.props.reporterName),!0===this.props.isRespondingResponder?r.a.createElement("p",null,r.a.createElement("b",null,"Responded By:")," ",this.props.originalResponderName):null,!0===this.props.isRespondingVolunteer?r.a.createElement("p",null,r.a.createElement("b",null,"Volunteer:")," ",this.props.originalVolunteerName):null,r.a.createElement("p",null,r.a.createElement("b",null,"Type of Incident:")," ",this.props.incidentType),r.a.createElement("p",null,r.a.createElement("b",null,"Location of Incident:")," ",this.props.incidentLocation),r.a.createElement("p",null,r.a.createElement("b",null,"Coordinates:")," ",this.props.coordinates.lng," ",this.props.coordinates.lat),r.a.createElement("p",null,r.a.createElement("b",null,"Time Received:")," ",this.props.timeReceived),""===this.props.incidentNote?r.a.createElement("p",null,r.a.createElement("b",null,"Note:")," No detailed location given by reporter"):r.a.createElement("p",null,r.a.createElement("b",null,"Note:")," ",this.props.incidentNote),""===this.props.image_uri?r.a.createElement("p",null,r.a.createElement("b",null,"Photo of Incident:")," No photo of incident uploaded by reporter"):r.a.createElement("p",null,r.a.createElement("b",null,"Photo of Incident"),r.a.createElement(I.a,{src:this.props.image_uri,size:"big"}))),r.a.createElement(M.a.Actions,null,r.a.createElement(b.a,{color:"green",onClick:this.markRedundantReport,floated:"left"},r.a.createElement(P.a,{name:"map marker"})," Redundant"),r.a.createElement(b.a,{color:"red",onClick:this.showActiveRespondersList("small")},!0===this.state.isRequestingResponders?"Request Additional Responders":"Dispatch Responders"))),r.a.createElement(M.a,{size:s,open:l,onClose:this.closeActiveRespondersList},r.a.createElement(M.a.Header,null,"Active Responders"),r.a.createElement(M.a.Content,null,this.state.activeResponders?r.a.createElement("div",null,r.a.createElement(F.a,{color:"blue"},r.a.createElement("div",{style:{textAlign:"center",fontSize:"30px",fontFamily:"sans-serif",paddingBottom:"5px"}},r.a.createElement("b",null,this.state.m,":",this.state.s,":",this.state.ms))),r.a.createElement(L.a,null,r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,null,"Responders"),r.a.createElement(L.a.HeaderCell,null,"Responder Details"),r.a.createElement(L.a.HeaderCell,null,"Dispatch"))),r.a.createElement(L.a.Body,null,this.renderRespondersList())),!0===this.state.isRequestingResponders?r.a.createElement(g.a,null,r.a.createElement("div",{style:{paddingTop:"30px",textAlign:"right"}},r.a.createElement("p",{style:{fontSize:"1.2em"}},"Maximum number of available responders: ",this.state.activeResponders.length),r.a.createElement(H.a,{type:"number",name:"quantity",min:"1",max:this.state.activeResponders.length,onChange:this.dispatchNumberOfRespondersHandler,value:this.state.dispatchNumberOfResponders}))):null):this.state.activeResponders?null:r.a.createElement("div",{style:{paddingTop:"20px",paddingBottom:"20px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Available Responders"))))),r.a.createElement(M.a.Actions,null,r.a.createElement(b.a,{color:"blue",onClick:this.showActiveVolunteersList("large")},!0===this.state.isRequestingVolunteers?"Request Additional Volunteers":"Request Volunteer"),!0===this.state.isRequestingResponders?r.a.createElement(b.a,{onClick:this.dispatchMultipleResponders,color:"red"},"Dispatch ",this.state.dispatchNumberOfResponders," responder/s"):null)),r.a.createElement(M.a,{size:c,open:i,onClose:this.closeActiveVolunteersList},r.a.createElement(M.a.Header,null,"Active Volunteers"),r.a.createElement(M.a.Content,null,this.state.bestVolunteers?r.a.createElement("div",null,r.a.createElement(F.a,{color:"blue"},r.a.createElement("div",{style:{textAlign:"center",fontSize:"30px",fontFamily:"sans-serif",paddingBottom:"5px"}},r.a.createElement("b",null,this.state.m,":",this.state.s,":",this.state.ms))),r.a.createElement(L.a,null,r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,null,"Volunteers"),r.a.createElement(L.a.HeaderCell,null,"Volunteer Details"),r.a.createElement(L.a.HeaderCell,null,"Dispatch"))),r.a.createElement(L.a.Body,null,this.renderVolunteersList())),!0===this.state.isRequestingVolunteers?r.a.createElement(g.a,null,r.a.createElement("div",{style:{paddingTop:"30px",textAlign:"right"}},r.a.createElement("b",{style:{fontSize:"1.1em",color:"white"}},"Maximum number of available volunteers: ",this.state.bestVolunteers.length),r.a.createElement(H.a,{style:{marginLeft:"10px"},type:"number",name:"quantity",min:"1",max:this.state.bestVolunteers.length,onChange:this.dispatchNumberOfVolunteersHandler,value:this.state.dispatchNumberOfVolunteers}))):null):this.state.bestVolunteers?null:r.a.createElement("div",{style:{paddingTop:"20px",paddingBottom:"20px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Available Volunteers"))))),r.a.createElement(M.a.Actions,null,!0===this.state.isRequestingVolunteers?r.a.createElement(b.a,{onClick:this.dispatchMultipleVolunteers,color:"red",floated:"right"},"Dispatch ",this.state.dispatchNumberOfVolunteers," volunteer/s"):r.a.createElement("div",null))))}}]),t}(n.Component));G.defaultProps={name:"Command Center Personnel",accountID:12345,timeReported:new Date,incidentType:"Police Emergency",incidentLocation:"Mandaue City"};var Y=G,J=a(60),_="GET_INCIDENTS",$="SIGNED_IN",ee="SIGNED_IN_UID";var te=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).renderEmergency=function(){var e=[];return Q.a.map(a.props.incidentsList,function(t,a){t.key=a,e.push(t)}),e.sort(function(e,t){return new Date(t.timeReceived)-new Date(e.timeReceived)}),Q.a.map(e,function(e,t){if(!1===e.isRedundantReport&&!1===e.isSettled)return r.a.createElement("div",{className:"item",key:t},r.a.createElement(Y,{timeReceived:e.timeReceived,incidentType:e.incidentType,incidentLocation:e.incidentLocation,incidentNote:e.incidentNote,coordinates:e.coordinates,incidentKey:e.key,reporterName:e.reporterName,responderResponding:e.responderResponding,volunteerResponding:e.volunteerResponding,isRespondingResponder:e.isRespondingResponder,isRespondingVolunteer:e.isRespondingVolunteer,isRespondingResponderShown:e.isRespondingResponderShown,isRespondingVolunteerShown:e.isRespondingVolunteerShown,image_uri:e.image_uri,originalResponderName:e.originalResponderName,originalVolunteerName:e.originalVolunteerName}));if(!0===e.isSettled&&!1===e.isShown){var a=r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("b",null,"Incident Location:")," ",e.incidentLocation),r.a.createElement("p",null,"This incident has been settled"));Z.NotificationManager.success(a,"",2e4)}})},a.state={incidentsList:[{key:"",incidentType:"",incidentLocation:"",isResponded:"",coordinates:{lng:"",lat:""}}]},a.renderEmergency=a.renderEmergency.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.getIncidents()}},{key:"render",value:function(){return r.a.createElement("div",{className:"hidescrollbar"},r.a.createElement("div",{className:"ui visible left vertical sidebar menu"},this.renderEmergency()))}}]),t}(n.Component);var ae=Object(J.b)(function(e,t){return console.log("incidentsList",e.incidents),{incidentsList:e.incidents}},{getIncidents:function(){var e=x.database().ref("/incidents");return function(t){e.on("value",function(e){t({type:_,payload:e.val()})})}}})(te),ne=a(82),re=a(225),le=a(216),se=a.n(le),oe=a(217),ie=a.n(oe),ce=a(218),ue=a.n(ce),de=a(219),me=a.n(de),pe=a(220),fe=a.n(pe),he=a(221),Ee=a.n(he),ge=a(222),be=a.n(ge),ve=a(223),ye=a.n(ve),Ne=Object(re.a)(Object(re.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDnJpxYlDPNrGJSQir9SoWBEbMaFa5Nv5w&libraries=geometry,drawing,places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"93vh",width:"100%"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}),Object(re.c)(function(e){return{infoWindows:e.places.map(function(e){return{isOpen:!1}})}},{onToggleOpen:function(e){var t=e.infoWindows;return function(e){return{infoWindows:t.map(function(t,a){return t.isOpen=e===a,t})}}}}),ne.withScriptjs,ne.withGoogleMap)(function(e){return r.a.createElement(ne.GoogleMap,{defaultZoom:e.zoom,defaultCenter:e.center},e.places&&e.places.map(function(t,a){var n=parseFloat(t.coordinates.lat,10),l=parseFloat(t.coordinates.lng,10),s=Ce(t.incidentType,t.unresponded,t.isResponding,t.isSettled);return console.log("responders",e.responders),!t.isSettled||t.isResponding||t.unresponded?r.a.createElement("div",{key:a},r.a.createElement(M.a,{size:"tiny",trigger:r.a.createElement(ne.Marker,{position:{lat:n,lng:l},title:t.incidentLocation,icon:{url:s,scaledSize:new window.google.maps.Size(50,50)}},r.a.createElement(ne.Circle,{center:{lat:n,lng:l},radius:500,visible:!0,options:{strokeColor:"#babfc7",fillColor:"#7d899e",strokeOpacity:.5,strokeWeight:1,fillOpacity:.5}}))},r.a.createElement(M.a.Header,null,"New Emergency"),r.a.createElement(M.a.Content,null,r.a.createElement("p",null,r.a.createElement("b",null,"Reported by:")," Regular User"),r.a.createElement("p",null,r.a.createElement("b",null,"Type of Incident:")," ",t.incidentType),r.a.createElement("p",null,r.a.createElement("b",null,"Location of Incident:")," ",t.incidentLocation),r.a.createElement("p",null,r.a.createElement("b",null,"Photo of Incident:"))),r.a.createElement(M.a.Actions,null,r.a.createElement(b.a,{color:"red"},"Dispatch Responders"),r.a.createElement(b.a,{color:"blue"},"Request Volunteers")))):r.a.createElement("div",{key:a},r.a.createElement(M.a,{size:"tiny",trigger:r.a.createElement(ne.Marker,{position:{lat:n,lng:l},title:t.incidentLocation,icon:{url:s,scaledSize:new window.google.maps.Size(50,50)}})},r.a.createElement(M.a.Header,null,"New Emergency"),r.a.createElement(M.a.Content,null,r.a.createElement("p",null,r.a.createElement("b",null,"Reported by:")," Regular User"),r.a.createElement("p",null,r.a.createElement("b",null,"Type of Incident:")," ",t.incidentType),r.a.createElement("p",null,r.a.createElement("b",null,"Location of Incident:")," ",t.incidentLocation),r.a.createElement("p",null,r.a.createElement("b",null,"Photo of Incident:"))),r.a.createElement(M.a.Actions,null,r.a.createElement(b.a,{color:"red"},"Dispatch Responders"),r.a.createElement(b.a,{color:"blue"},"Request Volunteers"))))}),e.volunteers&&e.volunteers.map(function(e,t){var a=parseFloat(e.coordinates.lat,10),n=parseFloat(e.coordinates.lng,10),l=be.a;return console.log("uid",e.uid),r.a.createElement("div",{key:t},r.a.createElement(M.a,{size:"tiny",trigger:r.a.createElement(ne.Marker,{position:{lat:a,lng:n},icon:{url:l,scaledSize:new window.google.maps.Size(35,50)}})},r.a.createElement(M.a.Header,null,"Volunteer"),r.a.createElement(M.a.Content,null,r.a.createElement("p",null,"UID: ",e.key)),r.a.createElement(M.a.Actions,null,r.a.createElement(b.a,{color:"red"},"Dispatch Responders"),r.a.createElement(b.a,{color:"blue"},"Request Volunteers"))))}),e.responders&&e.responders.map(function(e,t){var a=parseFloat(e.coordinates.lat,10),n=parseFloat(e.coordinates.lng,10),l=ye.a;return console.log("uid",e.uid),r.a.createElement("div",{key:t},r.a.createElement(M.a,{size:"tiny",trigger:r.a.createElement(ne.Marker,{position:{lat:a,lng:n},icon:{url:l,scaledSize:new window.google.maps.Size(50,50)}})},r.a.createElement(M.a.Header,null,"Responder"),r.a.createElement(M.a.Content,null,r.a.createElement("p",null,"UID: ",e.key)),r.a.createElement(M.a.Actions,null,r.a.createElement(b.a,{color:"red"},"Dispatch Responders"),r.a.createElement(b.a,{color:"blue"},"Request Volunteers"))))}))}),Ce=function(e,t,a,n){var r=null;switch(e){case"Vehicular Accident":t?r=se.a:a?r=ie.a:n&&(r=ue.a);break;case"Physical Injury":t?r=me.a:a?r=fe.a:n&&(r=Ee.a)}return r},Ae=Ne,Ve=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getData=function(e){var t=e,n=Q()(t).keys().map(function(e){var a=Q.a.clone(t[e]);return a.key=e,a}).value();a.setState({incidentsList:n})},a.getMobileUserCoordinates=function(e,t){var n=e,r=Q()(n).keys().map(function(e){var t=Q.a.clone(n[e]);return t.key=e,t}).value();a.setMobileList(r,t),console.log("mobile users",r)},a.setMobileList=function(e,t){switch(t){case"Responder":a.setState({responders:e});break;case"Volunteer":a.setState({volunteers:e});break;case"Regular User":a.setState({regularUsers:e});break;default:console.log("Error: Invalid user_type: ".concat(t))}},a.state={incidentsList:[{key:"",incidentType:"",incidentLocation:"",coordinates:{lng:"",lat:""},responded:null}],responders:[{coordinates:{lng:"",lat:""},uid:""}],volunteers:[{coordinates:{lng:"",lat:""},uid:""}],regularUsers:[{coordinates:{lng:"",lat:""},uid:""}]};var n=x.database().ref("/incidents"),r=x.database().ref("mobileUsers/Responder"),l=x.database().ref("mobileUsers/Volunteer"),s=x.database().ref("mobileUsers/Regular User");return n.on("value",function(e){a.getData(e.val())}),r.on("value",function(e){a.getMobileUserCoordinates(e.val(),"Responder")}),l.on("value",function(e){a.getMobileUserCoordinates(e.val(),"Volunteer")}),s.on("value",function(e){a.getMobileUserCoordinates(e.val(),"Regular User")}),console.log("constructor respondrs",a.state.volunteers),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("constructor respondrs",this.state.volunteers),r.a.createElement("div",null,console.log("responder list",this.state.responders),r.a.createElement(Ae,{center:{lat:10.324646,lng:123.942197},zoom:15,places:this.state.incidentsList,responders:this.state.responders,volunteers:this.state.volunteers,regularUsers:this.state.regularUsers}))}}]),t}(n.Component),we=a(54),xe=a(152),Re=a(859);function qe(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.email,r=e.password,l=e.isMobile,s=e.user_type,o=w.auth().createUserWithEmailAndPassword(n.trim(),r.trim());o.then(function(r){(x.database().ref("users/"+r.user.uid).update(e),Q.a.isEmpty(a))?(Ue(s,l,r.user.uid),q()(n,"Account successfully created!",{icon:"success"}),w.auth().sendPasswordResetEmail(n).then(function(){console.log("reset password sent")}).catch(function(e){var a=e.message;console.log(a),t.setState({err:a})})):Ue(s,l,r.user.uid,a);return"Success"}),o.catch(function(e){var t=e.message;console.log("ErrorNewAccount",t),q()(n,t,{icon:"error"})})}function Ue(e,t,a){var n=a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=x.database(),s=function(e){var t=0;Q.a.isEmpty(e.certification)||(t+=5);Q.a.isEmpty(e.medicalDegree)||(t+=10);Q.a.isEmpty(e.medicalProfession)||(t+=15);e.isActive&&(t+=15);0!==e.durationService&&(t+=2*e.durationService);return t}(r);switch(r.points=s,t){case!1:switch(e){case"Administrator":case"Command Center Personnel":l.ref("".concat("webUsers/","/").concat(e,"/").concat(a)).update({uid:a});break;default:console.log("Error: invalid web user type entered ".concat(e))}break;case!0:switch(e){case"Responder":case"Regular User":l.ref("unverifiedMobileUsers/".concat(a)).update({user_type:e});break;case"Volunteer":l.ref("unverifiedMobileUsers/".concat(a)).update({user_type:e}),l.ref("credentials/".concat(n)).update(r);break;default:console.log("Error: invalid mobile user type entered ".concat(e))}break;default:console.log("Error: invalid user type entered ".concat(e))}}a(109);var Se=a(129),Oe=a.n(Se),Pe=a(428),je=a.n(Pe),ke=RegExp(/^.{0,150}$/),Te=function(e){var t=e.formError,a=Object(we.a)(e,["formError"]),n=!0;return Object.values(t).forEach(function(e){e.length>0&&(n=!1)}),Object.values(a).forEach(function(e){null===e&&(n=!1)}),n},De=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUserProfile=function(){var e,t,n;x.database().ref("users/".concat(a.props.uid.uid)).on("value",function(r){n=r.val(),e=n.firstName,t=n.lastName,a.setState({firstName:e,lastName:t},function(){})})},a.show=function(e){return function(){return a.setState({size:e,open:!0})}},a.close=function(){return a.setState({open:!1,incidentType:"",incidentLocation:"",errorMessage:"",errorAddress:"",incidentNote:""})},a.handleChange=function(e,t,n){a.setState({incidentLocation:e,destinationPlaceId:t,errorMessage:"",errorAddress:""}),a.getUserProfile()},a.handleNote=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value,l=Object(D.a)({},a.state.formError);"incidentNote"===n&&(l.incidentNote=ke.test(r)?"":"max of 150 characters"),a.setState(Object(o.a)({formError:l},n,r),function(){return console.log(a.state)})},a.handleSelect=function(e,t){Object(Se.geocodeByPlaceId)(t).then(function(e){Object(Se.geocodeByPlaceId)(e[0].place_id),a.setState({destinationPlaceId:t}),console.log("destinationPlaceId:",t),console.log(e)}).catch(function(e){return console.error(e)}),Object(Se.geocodeByAddress)(e).then(function(e){return Object(Se.getLatLng)(e[0])}).then(function(t){a.setState({lng:t.lng,lat:t.lat}),console.log("Incident Location:",e)}).catch(function(e){console.log("Invalid Address!",e),a.setState({errorAddress:e})})},a.handleCloseClick=function(){a.setState({incidentLocation:"",latitude:null,longitude:null})},a.handleError=function(e,t){console.log("Error from Google Maps API",e),a.setState({errorMessage:e},function(){t()})},a.inputIncidentTypeHandler=function(e,t){var n=t.incidentType;return a.setState({incidentType:n})},a.inputIncidentLocationHandler=function(e){a.setState({incidentLocation:e.target.value})},a.submitIncidentHandler=function(e){e.preventDefault();var t=Date().toString(),n={incidentType:a.state.incidentType,incidentLocation:a.state.incidentLocation,incidentNote:a.state.incidentNote,image_uri:"",unresponded:!0,isResponding:!1,isSettled:!1,coordinates:{lng:a.state.lng,lat:a.state.lat},reportedBy:a.props.uid.uid,reporterName:a.state.firstName+" "+a.state.lastName,timeReceived:t,timeResponded:"",timeSettled:"",responderResponding:"",volunteerResponding:"",destinationPlaceId:a.state.destinationPlaceId,isRequestingResponders:!1,isRequestingVolunteers:!1,isRespondingResponder:!1,unrespondedResponder:!0,isRespondingVolunteer:!1,unrespondedVolunteer:!0,isShown:!1,isRespondingResponderShown:!1,isRespondingVolunteerShown:!1,isRedundantReport:!1};Te(a.state)&&console.log("\n        --SUBMITTING--\n        Note: ".concat(a.state.incidentNote,"\n      ")),a.props.saveIncident(n),a.setState({incidentType:"",incidentLocation:"",destinationPlaceId:"",incidentNote:"",unresponded:!1,isResponding:!1,isSettled:!1,lng:null,lat:null,isShown:!1,isRespondingResponderShown:!1,isRespondingVolunteerShown:!1,isRedundantReport:!1}),console.log(a.state.incidentsList),q()(a.state.incidentLocation,"New incident has been added!")},a.state={activeItem:"home"},a.handleItemClick=function(e,t){var n=t.name;return a.setState({activeItem:n})},a.state={open:!1,open2:!1,incidentType:"",incidentLocation:"",destinationPlaceId:"",errorAddress:"",unresponded:null,isResponding:null,isSettled:null,lat:null,lng:null,errorMessage:"",isShown:!1,incidentPhoto:null,reportedBy:"",reporterName:"",timeReceived:null,timeResponded:null,responderResponding:[],volunteerResponding:"",incidentNote:"",firstName:"",lastName:"",password:"",email:"",user_type:"",contactNumber:"",formError:{incidentNote:""},userID:"",uid:"",currentUID:""},a.logout=a.logout.bind(Object(p.a)(Object(p.a)(a))),a.getUserProfile(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getUserProfile()}},{key:"logout",value:function(){x.auth().signOut()}},{key:"render",value:function(){var e=this.state,t=e.open,a=e.size,n=(e.open2,e.size2,this.state.formError),l=this.state.errorMessage,s={location:new google.maps.LatLng(10.324646,123.942197),radius:10,types:["establishment"]};return r.a.createElement("div",null,r.a.createElement(O.a,{inverted:!0},r.a.createElement(O.a.Menu,{position:"left"},r.a.createElement(O.a.Item,null,r.a.createElement("span",{className:"appLogo"}),r.a.createElement("span",{style:{marginLeft:"40px"}},"Tabang!")),r.a.createElement(O.a.Item,{link:!0,onClick:this.show("tiny")},r.a.createElement(P.a,{className:"plus"}),"Add Incident")),r.a.createElement(O.a.Menu,{position:"right"},r.a.createElement(O.a.Item,null,r.a.createElement(xe.a,{text:"Legends",pointing:"top right",floating:!0,iconPosition:"right",icon:"caret down"},r.a.createElement(xe.a.Menu,null,r.a.createElement(xe.a.Item,null,r.a.createElement(I.a,{src:se.a,size:"mini",floated:"right"}),"Vehicular Unresponded"),r.a.createElement(xe.a.Item,null,r.a.createElement(I.a,{src:ie.a,size:"mini",floated:"right"}),"Vehicular Responding"),r.a.createElement(xe.a.Item,null,r.a.createElement(I.a,{src:ue.a,size:"mini",floated:"right"}),"Vehicular Settled"),r.a.createElement(xe.a.Item,null,r.a.createElement(I.a,{src:me.a,size:"mini",floated:"right"}),"Physical Unresponded"),r.a.createElement(xe.a.Item,null,r.a.createElement(I.a,{src:fe.a,size:"mini",floated:"right"}),"Physical Responding"),r.a.createElement(xe.a.Item,null,r.a.createElement(I.a,{src:Ee.a,size:"mini",floated:"right"}),"Physical Settled"),r.a.createElement(xe.a.Divider,null),r.a.createElement(xe.a.Item,null,r.a.createElement(I.a,{src:ye.a,size:"mini",floated:"right"}),"Responder"),r.a.createElement(xe.a.Item,null,r.a.createElement(I.a,{src:be.a,size:"mini",floated:"right"}),"Volunteer"),r.a.createElement(xe.a.Item,null,r.a.createElement(I.a,{src:je.a,size:"mini",floated:"right"}),"New Emergency")))),r.a.createElement(U.a,{to:"/ProfileCCP"},r.a.createElement(O.a.Item,{name:"profile"},r.a.createElement(P.a,{name:"user circle"})," Profile")),r.a.createElement(O.a.Item,{onClick:this.logout},r.a.createElement(P.a,{name:"sign out"})," Log Out"))),r.a.createElement(M.a,{size:a,open:t,onClose:this.close},r.a.createElement(M.a.Header,null,"New Emergency"),r.a.createElement(M.a.Content,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement("label",null,"Type of Incident"),r.a.createElement(Re.a,{label:"Vehicular Accident",incidentType:"Vehicular Accident",checked:"Vehicular Accident"===this.state.incidentType,onChange:this.inputIncidentTypeHandler}),r.a.createElement("br",null),r.a.createElement(Re.a,{label:"Physical Injury",incidentType:"Physical Injury",checked:"Physical Injury"===this.state.incidentType,onChange:this.inputIncidentTypeHandler})),r.a.createElement(g.a.Field,null,r.a.createElement("label",null,"Incident Location"),r.a.createElement(Oe.a,{onError:this._handleError,clearItemsOnError:!0,value:this.state.incidentLocation,onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:s},function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,l=e.loading;return r.a.createElement("div",null,r.a.createElement("input",t({placeholder:"Search Places ...",className:"location-search-input"})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},l&&r.a.createElement("div",null,"Loading..."),a.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",n(e,{className:t,style:a}),r.a.createElement("span",null,e.description))})))}),l.length>0&&r.a.createElement("div",null,this.state.errorMessage),this.state.errorAddress?r.a.createElement("div",null,this.state.errorAddress):null),r.a.createElement(g.a.Field,null,r.a.createElement("label",null,"Note"),r.a.createElement(g.a.Input,{control:"textarea",type:"text",name:"incidentNote",rows:"2",noValidate:!0,value:this.state.incidentNote,onChange:this.handleNote,className:n.incidentNote.length>0?"error":null}),n.incidentNote.length>0&&r.a.createElement("span",{className:"errorMessage"},n.incidentNote)))),r.a.createElement(M.a.Actions,null,this.state.incidentLocation.length>0&&r.a.createElement(g.a.Button,{floated:"left",color:"red",onClick:this.handleCloseClick}," Clear "),r.a.createElement(g.a.Button,{color:"red",onClick:this.submitIncidentHandler,disabled:!this.state.incidentLocation||!this.state.incidentType||this.state.errorMessage||this.state.errorAddress||!this.state.destinationPlaceId},"Submit"))))}}]),t}(n.Component);var Be=Object(J.b)(function(e){return{incidentsList:e.incidents,user:e.user,uid:e.uid}},{saveIncident:function(e){console.log("incident push",e);var t=x.database().ref("/incidents");return function(a){return t.push(e)}}})(De),Me=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ui visible"},r.a.createElement("div",{className:"ui bottom attached segment pushable",style:{maxHeight:"100vh",minHeight:"100vh",display:"compact",flexFlow:"column nowrap"}},r.a.createElement(ae,null),r.a.createElement("div",{className:"hidescrollbar"},r.a.createElement("div",{style:{paddingLeft:"258px"}},r.a.createElement("div",{style:{maxHeight:"100%",maxWidth:"100%"}},r.a.createElement(Be,{user_type:"Command Center Personnel"}),r.a.createElement(Z.NotificationContainer,null)),r.a.createElement("div",{style:{minHeight:"80vh",display:"flex",flexFlow:"column nowrap"}},r.a.createElement(Ve,null))))))}}]),t}(n.Component),Fe=(a(847),a(876)),Ie=a(862),Le=a(863),He=(a(864),a(867),function(){return"undefined"===typeof window?Fe.a.onlyTablet.minWidth:window.innerWidth}),ze=(n.Component,function(e){var t=e.component,a=Object(we.a)(e,["component"]);return r.a.createElement(U.c,Object.assign({},a,{render:function(e){return"Administrator"===(void 0).props.user_type?r.a.createElement(t,Object.assign({},e,a)):r.a.createElement(U.b,{to:{pathname:"/login",state:{from:e.location}}})}}))}),Qe=function(e){var t=e.component,a=Object(we.a)(e,["component"]);return r.a.createElement(U.c,Object.assign({},a,{render:function(e){return"Command Center Personnel"===(void 0).props.user_type?r.a.createElement(t,Object.assign({},e,a)):r.a.createElement(U.b,{to:{pathname:"/login",state:{from:e.location}}})}}))};var We=a(861),Ke=RegExp(/^([a-zA-Z0-9_.\-]+)@([a-zA-Z]+)\.([a-zA-Z]{2,5})$/),Xe=RegExp(/^(09|\+639)\d{9}$/),Ze=RegExp(/^[a-zA-Z\xf1\xd1.,'-\s]+$/),Ge=RegExp(/^[a-zA-Z\xf1\xd1.,'-\s]+$/),Ye=RegExp(/^[a-zA-Z\xf1\xd1.,'-\s]+$/),Je=RegExp(/^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/),_e=function(e){var t=e.formError,a=Object(we.a)(e,["formError"]),n=!0;return Object.values(t).forEach(function(e){e.length>0&&(n=!1)}),Object.values(a).forEach(function(e){null===e&&(n=!1)}),n},$e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleCreateAccount=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value,l=Object(D.a)({},a.state.formError);switch(n){case"firstName":l.firstName=Ze.test(r)?"":"Please enter a valid name.";break;case"lastName":l.lastName=Ge.test(r)?"":"Please enter a valid name.";break;case"address":l.address=Ye.test(r)?"":"Please enter a valid address.";break;case"email":l.email=Ke.test(r)?"":"Please enter a valid email address.";break;case"password":l.password=Je.test(r)?"":"Password must be 8 characters or longer, should contain at least 1 lowercase and 1 uppercase letter, and at least one special character";break;case"contactNumber":l.contactNumber=Xe.test(r)?"":"Please enter a valid number (09XXXXXXXX or +639XXXXXXXX)"}a.setState(Object(o.a)({formError:l},n,r),function(){return console.log(a.state)})},a.inputUserTypeHandler=function(e,t){var n=t.value;a.setState({user_type:n})},a.inputUserTypeHandler_volunteer=function(e,t){var n=t.value;a.setState({isActiveVolunteer:n})},a.inputUserTypeHandler_medicalDegree=function(e,t){var n=t.value;a.setState({medicalDegree:n})},a.inputUserTypeHandler_medicalProfession=function(e,t){var n=t.value;a.setState({medicalProfession:n})},a.inputUserTypeHandler_durationService=function(e,t){var n=t.value;a.setState({durationService:n})},a.inputUserTypeHandler_certification=function(e,t){var n=t.value;a.setState({certification:n})},a.inputSex=function(e,t){var n=t.value;a.setState({sex:n})},a.submitCreateAccount=function(e){e.preventDefault();var t=!1,n="";"Regular User"!==a.state.user_type&&"Responder"!==a.state.user_type&&"Volunteer"!==a.state.user_type||(t=!0);var r={firstName:a.state.firstName,lastName:a.state.lastName,password:a.state.password,email:a.state.email,user_type:a.state.user_type,contactNumber:a.state.contactNumber,address:a.state.address,sex:a.state.sex,isMobile:t,isVerified:!1},l={medicalProfession:a.state.medicalProfession,medicalDegree:a.state.medicalDegree,certification:a.state.certification,isActiveVolunteer:a.state.isActiveVolunteer,forVA:!1,forPI:!1,durationService:a.state.durationService};_e(a.state)&&console.log("\n            --SUBMITTING--\n            First Name: ".concat(a.state.firstName,"\n            Last Name: ").concat(a.state.lastName,"\n            Email: ").concat(a.state.email,"\n            Password: ").concat(a.state.password,"\n            Contact Number: ").concat(a.state.contactNumber,"\n            Sex: ").concat(a.state.sex,"\n            User Type: ").concat(a.state.user_type,"\n            Address: ").concat(a.state.address,"\n          ")),"Volunteer"===r.user_type?(n=qe(r,l),a.setState({err:n})):(n=qe(r),a.setState({err:n})),a.setState({firstName:"",lastName:"",userName:"",password:"",email:"",user_type:"",contactNumber:"",sex:"",medicalProfession:"",medicalDegree:"",certification:"",isActiveVolunteer:""})},a.state={hidden:!0,address:"",firstName:"",lastName:"",password:"",email:"",user_type:"",contactNumber:"",sex:"",errorMessage:"",durationService:"",medicalDegree:"",medicalProfession:"",certification:"",isActiveVolunteer:"",formError:{firstName:"",lastName:"",email:"",password:"",contactNumber:"",sex:"",user_type:"",address:""},userID:""},a.submitCreateAccount=a.submitCreateAccount.bind(Object(p.a)(Object(p.a)(a))),a.toggleShow=a.toggleShow.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"toggleShow",value:function(){this.setState({hidden:!this.state.hidden})}},{key:"render",value:function(){var e=this.state.formError;return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"CreateNewAccount"},r.a.createElement(h.a.Group,null,r.a.createElement(h.a,{style:{color:"whitesmoke",fontSize:"20px"}},r.a.createElement("b",null,"New User Account")),r.a.createElement(h.a,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Field,{style:{marginBottom:"10px",color:"whitesmoke"},required:!0},r.a.createElement(g.a.Input,{fluid:!0,placeholder:"Email Address",type:"email",name:"email",noValidate:!0,value:this.state.email,className:e.email.length>0?"error":null,onChange:this.handleCreateAccount,required:!0}),e.email.length>0&&r.a.createElement("span",{className:"errorMessage"},e.email)),"Volunteer"===this.state.user_type?r.a.createElement(g.a.Field,{control:We.a,options:[{text:"Nurse",value:"Nurse"},{text:"Surgeon",value:"Surgeon"},{text:"Emergency Medical Service Personnel",value:"Emergency Medical Service Personnel"}],placeholder:"Medical Profession",search:!0,onChange:this.inputUserTypeHandler_medicalProfession,required:!0}):null),r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Field,{search:!0,control:We.a,options:[{text:"Administrator",value:"Administrator"},{text:"Command Center Personnel",value:"Command Center Personnel"},{text:"Responder",value:"Responder"},{text:"Volunteer",value:"Volunteer"},{text:"Regular User",value:"Regular User"}],placeholder:"Select User Type",onChange:this.inputUserTypeHandler,required:!0}),"Volunteer"===this.state.user_type&&"Nurse"===this.state.medicalProfession?r.a.createElement(g.a.Field,{control:We.a,options:[{text:"Bachelor of Science in Nursing (BSN)",value:"Bachelor of Science in Nursing"},{text:"Associate Degree in Nursing (ADN)",value:"Associate Degree in Nursing"}],placeholder:"Medical Degree",onChange:this.inputUserTypeHandler_medicalDegree,required:!0}):null,"Volunteer"===this.state.user_type&&"Surgeon"===this.state.medicalProfession?r.a.createElement(g.a.Field,{control:We.a,options:[{text:"Bachelor of Medicine and Bachelor of Surgery (MBBS)",value:"Bachelor of Medicine and Bachelor of Surgery"},{text:"Master of Medicine (MM, MMed)",value:"Master of Medicine"},{text:"Master of Surgery (MS, MSurg, ChM)",value:"Master of Surgery"},{text:"Master of Medical Science (MMSc, MMedSc)",value:"Master of Medical Science"},{text:"Doctor of Medical Science (DMSc, DMedSc)",value:"Doctor of Medical Science"},{text:"Doctor of Surgery (DS, DSurg)",value:"Doctor of Surgery"},{text:"Doctor of Medicine (MD)",value:"Doctor of Medicine"}],placeholder:"Medical Degree",onChange:this.inputUserTypeHandler_medicalDegree,required:!0}):null,"Volunteer"===this.state.user_type&&"Emergency Medical Service Personnel"===this.state.medicalProfession?r.a.createElement(g.a.Field,{control:We.a,options:[{text:"Emergency Medical Services NC II",value:"Emergency Medical Services NC II"}],placeholder:"Medical Degree",onChange:this.inputUserTypeHandler_medicalDegree,required:!0}):null),r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Field,{style:{marginBottom:"10px",color:"whitesmoke"},required:!0},r.a.createElement(g.a.Input,{fluid:!0,placeholder:"First Name (at least 2 characters)",type:"text",name:"firstName",noValidate:!0,value:this.state.firstName,className:e.firstName.length>0?"error":null,onChange:this.handleCreateAccount,required:!0}),e.firstName.length>0&&r.a.createElement("span",{className:"errorMessage"},e.firstName)),"Volunteer"===this.state.user_type&&"Nurse"===this.state.medicalProfession?r.a.createElement(g.a.Field,{control:We.a,options:[{text:"Maternal and Child Health Nursing",value:"Maternal and Child Health Nursing"},{text:"Emergency and Trauma Nursing",value:"Emergency and Trauma Nursing"},{text:"Cardiovascular Nursing",value:"Cardiovascular Nursing"}],placeholder:"Certification",onChange:this.inputUserTypeHandler_certification,required:!0}):"Volunteer"===this.state.user_type&&"Surgeon"===this.state.medicalProfession?r.a.createElement(g.a.Field,{control:We.a,options:[{text:"General Surgeon Board Certification",value:"General Surgeon Board Certification"}],placeholder:"Certification",onChange:this.inputUserTypeHandler_certification,required:!0}):"Volunteer"===this.state.user_type&&"Emergency Medical Service Personnel"===this.state.medicalProfession?r.a.createElement(g.a.Field,{control:We.a,options:[{text:"Medical First Responder",value:"Medical First Responder"},{text:"Ambulance Care Assistants",value:"Ambulance Care Assistants"},{text:"Emergency Medical Technicians",value:"Emergency Medical Technicians"},{text:"Paramedics",value:"Paramedics"}],placeholder:"Certification",onChange:this.inputUserTypeHandler_certification,required:!0}):null),r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Field,{style:{marginBottom:"10px",color:"whitesmoke"},required:!0},r.a.createElement(g.a.Input,{fluid:!0,placeholder:"Last Name (at least 2 characters)",type:"text",name:"lastName",noValidate:!0,value:this.state.lastName,className:e.lastName.length>0?"error":null,onChange:this.handleCreateAccount,required:!0}),e.lastName.length>0&&r.a.createElement("span",{className:"errorMessage"},e.lastName)),"Volunteer"===this.state.user_type?r.a.createElement(g.a.Field,{control:We.a,options:[{text:"Yes",value:"Yes"},{text:"No",value:"No"}],placeholder:"Active Volunteer?",onChange:this.inputUserTypeHandler_volunteer,required:!0}):null),r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Field,{style:{marginBottom:"10px",color:"whitesmoke"},required:!0},r.a.createElement(g.a.Input,{fluid:!0,placeholder:"Password",type:this.state.hidden?"password":"text",name:"password",noValidate:!0,value:this.state.password,className:e.password.length>0?"error":null,onChange:this.handleCreateAccount,required:!0,onClick:this.toggleShow}),e.password.length>0&&r.a.createElement("span",{className:"errorMessage"},e.password)),"Volunteer"===this.state.user_type?r.a.createElement(g.a.Field,{control:We.a,options:[{text:"1 year",value:1},{text:"2 years",value:2},{text:"3 years",value:3},{text:"4 years",value:4},{text:"5 years",value:5},{text:"6 years",value:6},{text:"7 years",value:7},{text:"8 years",value:8},{text:"9 years",value:9},{text:"10 years",value:10}],placeholder:"Duration Service (in years)",search:!0,onChange:this.inputUserTypeHandler_durationService,required:!0}):null),r.a.createElement(g.a.Group,{widths:"equal"},r.a.createElement(g.a.Field,{style:{marginBottom:"10px",color:"whitesmoke"},required:!0},r.a.createElement(g.a.Input,{fluid:!0,placeholder:"Contact Number: 09XXXXXXXXX",type:"text",name:"contactNumber",pattern:"[0-9]*",inputmode:"numeric",noValidate:!0,value:this.state.contactNumber,className:e.contactNumber.length>0?"error":null,onChange:this.handleCreateAccount,required:!0}),e.contactNumber.length>0&&r.a.createElement("span",{className:"errorMessage"},e.contactNumber)),r.a.createElement(g.a.Field,{style:{marginBottom:"10px",color:"whitesmoke"},required:!0},r.a.createElement(g.a.Input,{fluid:!0,control:We.a,placeholder:"Sex",options:[{text:"Male",value:"Male"},{text:"Female",value:"Female"}],type:"text",name:"sex",noValidate:!0,value:this.state.sex,onChange:this.inputSex,required:!0}))),r.a.createElement(g.a.Field,{style:{marginBottom:"10px",color:"whitesmoke"},required:!0},r.a.createElement(g.a.Input,{fluid:!0,placeholder:"Address",type:"text",name:"address",noValidate:!0,value:this.state.address,className:e.address.length>0?"error":null,onChange:this.handleCreateAccount,required:!0}),e.address.length>0&&r.a.createElement("span",{className:"errorMessage"},e.address))),r.a.createElement(b.a,{floated:"right",color:"red",onClick:this.submitCreateAccount,disabled:this.state.email&&this.state.firstName&&this.state.lastName&&this.state.user_type&&this.state.password&&this.state.contactNumber&&this.state.sex&&!this.state.formError.email&&!this.state.formError.firstName&&!this.state.formError.lastName&&!this.state.formError.password&&!this.state.formError.contactNumber&&"Volunteer"!==this.state.user_type?null:!this.state.medicalDegree||!this.state.sex||!this.state.medicalProfession||!this.state.certification||!this.state.isActiveVolunteer||!this.state.durationService},"Create User Account")))))}}]),t}(n.Component),et=RegExp(/^([a-zA-Z0-9_.\-]+)@([a-zA-Z]+)\.([a-zA-Z]{2,5})$/),tt=RegExp(/^(09|\+639)\d{9}$/),at=RegExp(/^[a-zA-Z\xf1\xd1.,'-\s]+$/),nt=RegExp(/^[a-zA-Z\xf1\xd1.,'-\s]+$/),rt=RegExp(/^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/),lt=function(e){var t=e.formError,a=Object(we.a)(e,["formError"]),n=!0;return Object.values(t).forEach(function(e){e.length>0&&(n=!1)}),Object.values(a).forEach(function(e){null===e&&(n=!1)}),n},st=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleCreateAccount=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value,l=Object(D.a)({},a.state.formError);switch(n){case"firstName":l.firstName=at.test(r)?"":"Please enter a valid name.";break;case"lastName":l.lastName=nt.test(r)?"":"Please enter a valid name.";break;case"email":l.email=et.test(r)?"":"Please enter a valid email address.";break;case"password":l.password=rt.test(r)?"":"Password must be 8 characters or longer, should contain at least 1 lowercase and 1 uppercase letter, and at least one special character";break;case"contactNumber":l.contactNumber=tt.test(r)?"":"Please enter a valid number (09XXXXXXXX or +639XXXXXXXX)"}a.setState(Object(o.a)({formError:l},n,r),function(){return console.log(a.state)})},a.inputUserTypeHandler=function(e,t){var n=t.value;a.setState({user_type:n})},a.inputUserTypeHandler_volunteer=function(e,t){var n=t.value;a.setState({isActiveVolunteer:n})},a.inputUserTypeHandler_medicalDegree=function(e,t){var n=t.value;a.setState({medicalDegree:n})},a.inputUserTypeHandler_medicalProfession=function(e,t){var n=t.value;a.setState({medicalProfession:n})},a.inputUserTypeHandler_durationService=function(e,t){var n=t.value;a.setState({durationService:n})},a.inputUserTypeHandler_certification=function(e,t){var n=t.value;a.setState({certification:n})},a.inputSex=function(e,t){var n=t.value;a.setState({sex:n})},a.submitCreateAccount=function(e){e.preventDefault();var t=!1,n="";"Regular User"!==a.state.user_type&&"Responder"!==a.state.user_type&&"Volunteer"!==a.state.user_type||(t=!0);var r={firstName:a.state.firstName,lastName:a.state.lastName,password:a.state.password,email:a.state.email,user_type:a.state.user_type,contactNumber:a.state.contactNumber,sex:a.state.sex,isMobile:t,isVerified:!1},l={medicalProfession:a.state.medicalProfession,medicalDegree:a.state.medicalDegree,certification:a.state.certification,isActiveVolunteer:a.state.isActiveVolunteer,forVA:!1,forPI:!1,durationService:a.state.durationService};lt(a.state)&&console.log("\n            --SUBMITTING--\n            First Name: ".concat(a.state.firstName,"\n            Last Name: ").concat(a.state.lastName,"\n            Email: ").concat(a.state.email,"\n            Password: ").concat(a.state.password,"\n            Contact Number: ").concat(a.state.contactNumber,"\n            Sex: ").concat(a.state.sex,"\n            User Type: ").concat(a.state.user_type,"\n            ")),"Volunteer"===r.user_type?(n=qe(r,l),a.setState({err:n})):(n=qe(r),a.setState({err:n})),a.setState({firstName:"",lastName:"",userName:"",password:"",email:"",user_type:"",contactNumber:"",sex:"",medicalProfession:"",medicalDegree:"",certification:"",isActiveVolunteer:""})},a.updateUserFirstName=function(){q()(Object(o.a)({title:"Are you sure you want to change your first name?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("users/".concat(a.state.uid)).update({firstName:a.state.firstName},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}):q()("Edit First Name has been cancelled!")})},a.updateUserLastName=function(){q()(Object(o.a)({title:"Are you sure you want to change your last name?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("users/".concat(a.state.uid)).update({lastName:a.state.lastName},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}):q()("Edit Last Name has been cancelled!")})},a.updateUserEmail=function(){q()(Object(o.a)({title:"Are you sure you want to change your email?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){if(e){x.database().ref("users/".concat(a.state.uid)).update({email:a.state.email},function(e){e?(console.log("error updating in database"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))});var t=x.auth().currentUser;console.log("auth",t);var n=a.state.email;t.updateEmail(n).then(function(){console.log("email updated successfully!")}).catch(function(e){console.log("email: error updating in authentication"),q()("Update failed",{icon:"error"})})}else q()("Edit Email has been cancelled!")})},a.updateUserContactNumber=function(){q()(Object(o.a)({title:"Are you sure you want to change your contact number?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("users/".concat(a.state.uid)).update({contactNumber:a.state.contactNumber},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}):q()("Edit Contact Number has been cancelled!")})},a.updateUserPassword=function(){q()(Object(o.a)({title:"Are you sure you want to change your password?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){if(e){x.database().ref("users/".concat(a.state.uid)).update({password:a.state.password},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))});var t=x.auth().currentUser;console.log("auth",t);var n=a.state.password;t.updatePassword(n).then(function(){console.log("password updated successfully!")}).catch(function(e){console.log("password: error updating",e)}),q()("Update failed",{icon:"error"})}else q()("Edit Password has been cancelled!")})},a.emailVerification=function(){q()(Object(o.a)({title:"Please select continue to verify your email address",buttons:!0,dangerMode:!0},"buttons",["Cancel","Continue"])).then(function(e){e?x.auth().currentUser.sendEmailVerification().then(function(){q()("Email sent!",{icon:"success"})}).catch(function(e){q()(e,"Error!",{icon:"success"})}):q()("Email Verification has been cancelled!")})},a.getUserProfile=function(){var e,t,n,r,l,s;x.database().ref("users/".concat(a.state.uid)).once("value",function(o){console.log("snapshot",o),s=o.val(),e=s.firstName,t=s.lastName,n=s.email,r=s.contactNumber,l=s.password,a.setState({firstName:e,lastName:t,email:n,contactNumber:r,password:l},function(){})})},a.state={isEmailVerified:"",hidden:!0,uid:a.props.uid.uid,firstName:"",lastName:"",password:"",email:"",user_type:"",contactNumber:"",sex:"",errorMessage:"",durationService:"",medicalDegree:"",medicalProfession:"",certification:"",isActiveVolunteer:"",formError:{firstName:"",lastName:"",email:"",password:"",contactNumber:"",sex:"",user_type:""}},a.submitCreateAccount=a.submitCreateAccount.bind(Object(p.a)(Object(p.a)(a))),a.toggleShow=a.toggleShow.bind(Object(p.a)(Object(p.a)(a))),a.getUserProfile(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"toggleShow",value:function(){this.setState({hidden:!this.state.hidden})}},{key:"componentDidMount",value:function(){var e,t=x.auth().currentUser;console.log("userProfile",t),null!=t&&(e=t.emailVerified,console.log("isEmailVerified: ",e),this.setState({emailVerified:e}),console.log("isEmailVerified2: ",e))}},{key:"render",value:function(){var e,t,a=this,n=this.state.formError;return!0===this.state.emailVerified?(e=r.a.createElement(P.a,{name:"check circle"}),console.log("potangINA",e)):!1===this.state.emailVerified&&(t=r.a.createElement(P.a,{onClick:this.emailVerification,name:"times circle"})),r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"Profilepage"},r.a.createElement("div",{className:"login-form"},r.a.createElement(E.a,{as:"h1",textAlign:"center"},r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("b",null,"PROFILE"))),r.a.createElement("div",{style:{color:"whitesmoke",fontSize:"16px",marginBottom:"50px"}},r.a.createElement("p",null,r.a.createElement("b",{style:{fontSize:"20px"}},"Name: ")," ",this.state.firstName," ",this.state.lastName,"  "),r.a.createElement("p",null,r.a.createElement("b",{style:{fontSize:"20px"}},"Email: ")," ",this.state.email," ",r.a.createElement("div",{class:"tooltip"},e,r.a.createElement("span",{class:"tooltiptext"},"Your email is verified!")),r.a.createElement("div",{class:"tooltip"},t,r.a.createElement("span",{class:"tooltiptext"},"Click to verify email!"))),r.a.createElement("p",null,r.a.createElement("b",{style:{fontSize:"20px"}},"Contact Number: ")," ",this.state.contactNumber," ")),r.a.createElement(M.a,{trigger:r.a.createElement(b.a,{color:"blue",floated:"right"},"Update Profile"),closeIcon:!0,size:"small",basic:!0},r.a.createElement(M.a.Header,null,"Edit Account"),r.a.createElement(M.a.Content,null,r.a.createElement(L.a,{celled:!0,collapsing:!0,selectable:!0},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement("b",null,"First Name:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"text",name:"firstName",className:n.firstName.length>0?"error":null,style:{color:"white"},placeholder:"First Name",onChange:this.handleCreateAccount,defaultValue:this.state.firstName,ref:function(e){return a.firstName=e}})),n.firstName.length>0&&r.a.createElement("span",{className:"errorMessage"},n.firstName))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserFirstName,disabled:this.state.formError.firstName},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement("b",null,"Last Name:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"text",name:"lastName",className:n.lastName.length>0?"error":null,style:{color:"white"},placeholder:"Last Name",onChange:this.handleCreateAccount,defaultValue:this.state.lastName,ref:function(e){return a.lastName=e}})),n.lastName.length>0&&r.a.createElement("span",{className:"errorMessage"},n.lastName))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserLastName,disabled:this.state.formError.lastName},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement("b",null,"Email:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"email",name:"email",className:n.email.length>0?"error":null,style:{color:"white"},placeholder:"Last Name",onChange:this.handleCreateAccount,defaultValue:this.state.email,ref:function(e){return a.email=e}})),n.email.length>0&&r.a.createElement("span",{className:"errorMessage"},n.email))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserEmail,disabled:this.state.formError.email},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement("b",null,"Contact:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"text",name:"contactNumber",className:n.contactNumber.length>0?"error":null,style:{color:"white"},placeholder:"Contact Number",onChange:this.handleCreateAccount,defaultValue:this.state.contactNumber,ref:function(e){return a.contactNumber=e}})),n.contactNumber.length>0&&r.a.createElement("span",{className:"errorMessage"},n.contactNumber))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserContactNumber,disabled:this.state.formError.contactNumber},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement("b",null,"Password:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,placeholder:"Password",type:this.state.hidden?"password":"text",name:"password",noValidate:!0,className:n.password.length>0?"error":null,onChange:this.handleCreateAccount,required:!0,value:this.state.password,onClick:this.toggleShow})),n.password.length>0&&r.a.createElement("span",{className:"errorMessage"},n.password))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserPassword,disabled:this.state.formError.password},"Edit",r.a.createElement(P.a,{name:"edit"})))))))))))}}]),t}(n.Component);var ot=Object(J.b)(function(e){return console.log("user details",e.user.userAccount),console.log("user id",e.uid),{user:e.user.userAccount,uid:e.uid}})(st),it=RegExp(/^([a-zA-Z0-9_.\-]+)@([a-zA-Z]+)\.([a-zA-Z]{2,5})$/),ct=RegExp(/^(09|\+639)\d{9}$/),ut=RegExp(/^[a-zA-Z\xf1\xd1.,'-\s]+$/),dt=RegExp(/^[a-zA-Z\xf1\xd1.,'-\s]+$/),mt=RegExp(/^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/),pt=function(e){var t=e.formError,a=Object(we.a)(e,["formError"]),n=!0;return Object.values(t).forEach(function(e){e.length>0&&(n=!1)}),Object.values(a).forEach(function(e){null===e&&(n=!1)}),n},ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleCreateAccount=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value,l=Object(D.a)({},a.state.formError);switch(n){case"firstName":l.firstName=ut.test(r)?"":"Please enter a valid name.";break;case"lastName":l.lastName=dt.test(r)?"":"Please enter a valid name.";break;case"email":l.email=it.test(r)?"":"Please enter a valid email address.";break;case"password":l.password=mt.test(r)?"":"Password must be 8 characters or longer, should contain at least 1 lowercase and 1 uppercase letter, and at least one special character";break;case"contactNumber":l.contactNumber=ct.test(r)?"":"Please enter a valid number (09XXXXXXXX or +639XXXXXXXX)"}a.setState(Object(o.a)({formError:l},n,r),function(){return console.log(a.state)})},a.inputUserTypeHandler=function(e,t){var n=t.value;a.setState({user_type:n})},a.inputUserTypeHandler_volunteer=function(e,t){var n=t.value;a.setState({isActiveVolunteer:n})},a.inputUserTypeHandler_medicalDegree=function(e,t){var n=t.value;a.setState({medicalDegree:n})},a.inputUserTypeHandler_medicalProfession=function(e,t){var n=t.value;a.setState({medicalProfession:n})},a.inputUserTypeHandler_durationService=function(e,t){var n=t.value;a.setState({durationService:n})},a.inputUserTypeHandler_certification=function(e,t){var n=t.value;a.setState({certification:n})},a.inputSex=function(e,t){var n=t.value;a.setState({sex:n})},a.submitCreateAccount=function(e){e.preventDefault();var t=!1,n="";"Regular User"!==a.state.user_type&&"Responder"!==a.state.user_type&&"Volunteer"!==a.state.user_type||(t=!0);var r={firstName:a.state.firstName,lastName:a.state.lastName,password:a.state.password,email:a.state.email,user_type:a.state.user_type,contactNumber:a.state.contactNumber,sex:a.state.sex,isMobile:t,isVerified:!1},l={medicalProfession:a.state.medicalProfession,medicalDegree:a.state.medicalDegree,certification:a.state.certification,isActiveVolunteer:a.state.isActiveVolunteer,forVA:!1,forPI:!1,durationService:a.state.durationService};pt(a.state)&&console.log("\n            --SUBMITTING--\n            First Name: ".concat(a.state.firstName,"\n            Last Name: ").concat(a.state.lastName,"\n            Email: ").concat(a.state.email,"\n            Password: ").concat(a.state.password,"\n            Contact Number: ").concat(a.state.contactNumber,"\n            Sex: ").concat(a.state.sex,"\n            User Type: ").concat(a.state.user_type,"\n            ")),"Volunteer"===r.user_type?(n=qe(r,l),a.setState({err:n})):(n=qe(r),a.setState({err:n})),a.setState({firstName:"",lastName:"",userName:"",password:"",email:"",user_type:"",contactNumber:"",sex:"",medicalProfession:"",medicalDegree:"",certification:"",isActiveVolunteer:""})},a.updateUserFirstName=function(){q()(Object(o.a)({title:"Are you sure you want to change your first name?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("users/".concat(a.state.uid)).update({firstName:a.state.firstName},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}):q()("Edit First Name has been cancelled!")})},a.updateUserLastName=function(){q()(Object(o.a)({title:"Are you sure you want to change your last name?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("users/".concat(a.state.uid)).update({lastName:a.state.lastName},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}):q()("Edit Last Name has been cancelled!")})},a.updateUserEmail=function(){q()(Object(o.a)({title:"Are you sure you want to change your email?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){if(e){x.database().ref("users/".concat(a.state.uid)).update({email:a.state.email},function(e){e?(console.log("error updating in database"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))});var t=x.auth().currentUser;console.log("auth",t);var n=a.state.email;t.updateEmail(n).then(function(){console.log("email updated successfully!")}).catch(function(e){console.log("email: error updating in authentication"),q()("Update failed",{icon:"error"})})}else q()("Edit Email has been cancelled!")})},a.updateUserContactNumber=function(){q()(Object(o.a)({title:"Are you sure you want to change your contact number?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("users/".concat(a.state.uid)).update({contactNumber:a.state.contactNumber},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}):q()("Edit Contact Number has been cancelled!")})},a.updateUserPassword=function(){q()(Object(o.a)({title:"Are you sure you want to change your password?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){if(e){x.database().ref("users/".concat(a.state.uid)).update({password:a.state.password},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))});var t=x.auth().currentUser;console.log("auth",t);var n=a.state.password;t.updatePassword(n).then(function(){console.log("password updated successfully!")}).catch(function(e){console.log("password: error updating")}),q()("Update failed",{icon:"error"})}else q()("Edit Password has been cancelled!")})},a.emailVerification=function(){q()(Object(o.a)({title:"Please select continue to verify your email address",buttons:!0,dangerMode:!0},"buttons",["Cancel","Continue"])).then(function(e){e?x.auth().currentUser.sendEmailVerification().then(function(){q()("Email sent!",{icon:"success"})}).catch(function(e){q()(e,"Error!",{icon:"success"})}):q()("Email Verification has been cancelled!")})},a.getUserProfile=function(){var e,t,n,r,l,s;x.database().ref("users/".concat(a.state.uid)).once("value",function(o){console.log("snapshot",o),s=o.val(),e=s.firstName,t=s.lastName,n=s.email,r=s.contactNumber,l=s.password,a.setState({firstName:e,lastName:t,email:n,contactNumber:r,password:l},function(){})})},a.state={isEmailVerified:"",hidden:!0,uid:a.props.uid.uid,firstName:"",lastName:"",password:"",email:"",user_type:"",contactNumber:"",sex:"",errorMessage:"",durationService:"",medicalDegree:"",medicalProfession:"",certification:"",isActiveVolunteer:"",formError:{firstName:"",lastName:"",email:"",password:"",contactNumber:"",sex:"",user_type:""}},a.submitCreateAccount=a.submitCreateAccount.bind(Object(p.a)(Object(p.a)(a))),a.toggleShow=a.toggleShow.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"toggleShow",value:function(){this.setState({hidden:!this.state.hidden})}},{key:"componentDidMount",value:function(){this.getUserProfile();var e,t=x.auth().currentUser;console.log("userProfile",t),null!=t&&(e=t.emailVerified,console.log("isEmailVerified: ",e),this.setState({emailVerified:e}),console.log("isEmailVerified2: ",e))}},{key:"render",value:function(){var e,t,a=this,n=this.state.formError;return!0===this.state.emailVerified?(e=r.a.createElement(P.a,{name:"check circle"}),console.log("potangINA",e)):!1===this.state.emailVerified&&(t=r.a.createElement(P.a,{onClick:this.emailVerification,name:"times circle"})),r.a.createElement("div",null,r.a.createElement("div",{className:"Profilepage"},r.a.createElement("div",{className:"login-form"},r.a.createElement(E.a,{as:"h1",textAlign:"center"},r.a.createElement("div",{style:Object(o.a)({marginTop:"10px",fontSize:"16px",textAlign:"left",marginLeft:"5px"},"marginTop","-15px")},r.a.createElement(U.a,{to:"ccpersonnel"},"Back to home")),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("b",null,"PROFILE"))),r.a.createElement("div",{style:{color:"whitesmoke",fontSize:"16px",marginBottom:"50px"}},r.a.createElement("p",null,r.a.createElement("b",{style:{fontSize:"20px"}},"Name: ")," ",this.state.firstName," ",this.state.lastName,"  "),r.a.createElement("p",null,r.a.createElement("b",{style:{fontSize:"20px"}},"Email: ")," ",this.state.email," ",r.a.createElement("div",{class:"tooltip"},e,r.a.createElement("span",{class:"tooltiptext"},"Your email is verified!")),r.a.createElement("div",{class:"tooltip"},t,r.a.createElement("span",{class:"tooltiptext"},"Click to verify email!"))),r.a.createElement("p",null,r.a.createElement("b",{style:{fontSize:"20px"}},"Contact Number: ")," ",this.state.contactNumber," ")),r.a.createElement(M.a,{trigger:r.a.createElement(b.a,{color:"blue",floated:"right"},"Update Profile"),closeIcon:!0,size:"small",basic:!0},r.a.createElement(M.a.Header,null,"Edit Account"),r.a.createElement(M.a.Content,null,r.a.createElement(L.a,{celled:!0,collapsing:!0,selectable:!0},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement("b",null,"First Name:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"text",name:"firstName",className:n.firstName.length>0?"error":null,style:{color:"white"},placeholder:"First Name",onChange:this.handleCreateAccount,defaultValue:this.state.firstName,ref:function(e){return a.firstName=e}})),n.firstName.length>0&&r.a.createElement("span",{className:"errorMessage"},n.firstName))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserFirstName,disabled:this.state.formError.firstName},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement("b",null,"Last Name:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"text",name:"lastName",className:n.lastName.length>0?"error":null,style:{color:"white"},placeholder:"Last Name",onChange:this.handleCreateAccount,defaultValue:this.state.lastName,ref:function(e){return a.lastName=e}})),n.lastName.length>0&&r.a.createElement("span",{className:"errorMessage"},n.lastName))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserLastName,disabled:this.state.formError.lastName},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement("b",null,"Email:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"email",name:"email",className:n.email.length>0?"error":null,style:{color:"white"},placeholder:"Last Name",onChange:this.handleCreateAccount,defaultValue:this.state.email,ref:function(e){return a.email=e}})),n.email.length>0&&r.a.createElement("span",{className:"errorMessage"},n.email))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserEmail,disabled:this.state.formError.email},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement("b",null,"Contact:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"text",name:"contactNumber",className:n.contactNumber.length>0?"error":null,style:{color:"white"},placeholder:"Contact Number",onChange:this.handleCreateAccount,defaultValue:this.state.contactNumber,ref:function(e){return a.contactNumber=e}})),n.contactNumber.length>0&&r.a.createElement("span",{className:"errorMessage"},n.contactNumber))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserContactNumber,disabled:this.state.formError.contactNumber},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement("b",null,"Password:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,placeholder:"Password",type:this.state.hidden?"password":"text",name:"password",noValidate:!0,className:n.password.length>0?"error":null,onChange:this.handleCreateAccount,required:!0,value:this.state.password,onClick:this.toggleShow})),n.password.length>0&&r.a.createElement("span",{className:"errorMessage"},n.password))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserPassword,disabled:this.state.formError.password},"Edit",r.a.createElement(P.a,{name:"edit"})))))))))))}}]),t}(n.Component);var ht=Object(J.b)(function(e){return console.log("poooota",e.user.userAccount),console.log("poooota",e.uid),{user:e.user.userAccount,uid:e.uid}})(ft),Et=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).verifyUser=function(){q()(a.props.email,{title:"Are you sure you want to verify this account?",icon:"warning",buttons:!0,dangerMode:!0}).then(function(e){if(e){console.log("vertu asd",a.props.uid);var t=x.database().ref("unverifiedMobileUsers/".concat(a.props.uid));x.database().ref("users/".concat(a.props.uid)).update({isVerified:!0}).then(function(){console.log("".concat(a.props.uid," account verified")),q()("Account Verified!",{icon:"success"}),t.remove().then(function(){console.log("".concat(a.props.uid," node in unverifiedMobileUsers node removed")),a.props.verify(a.props.uid)})})}else q()("Verify Account has been cancelled!")})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"5"},r.a.createElement(E.a,{as:"h4",image:!0},r.a.createElement(I.a,{src:"https://react.semantic-ui.com/images/avatar/small/elliot.jpg",rounded:!0,size:"mini",circular:!0}),r.a.createElement(E.a.Content,null,this.props.firstName," ",this.props.lastName))),r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement(E.a.Content,null,this.props.email)),r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement(E.a.Content,null,this.props.contactNumber)),r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement(b.a,{color:"green",onClick:this.verifyUser},"Verify")))}}]),t}(n.Component);function gt(e){return function(t){return(t.firstName+" "+t.lastName+" "+t.contactNumber+" "+t.email+" "+t.sex).toLowerCase().includes(e.toLowerCase())||!e}}var bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).verify=function(e){var t=a.state.respondersProfiles.filter(function(t){return t.key!==e});a.setState({respondersProfiles:t})},a.renderUnverifiedResponders=function(){return Q.a.map(a.state.respondersProfiles,function(e,t){return r.a.createElement(Et,{firstName:e.firstName,lastName:e.lastName,contactNumber:e.contactNumber,email:e.email,uid:e.key,verify:a.verify})})},a.searchHandler=function(e){a.setState({search:e.target.value})},a.state={responders:[{}],respondersProfiles:[{}],search:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a={};x.database().ref("unverifiedMobileUsers").orderByChild("user_type").equalTo("Responder").once("value",function(n){e.setState({responders:n.val()},function(){console.log("unverified responders",e.state.responders),Q.a.map(e.state.responders,function(n,r){x.database().ref("users/".concat(r)).once("value",function(n){(a=n.val()).key=n.key,t.push(a),e.setState({respondersProfiles:t},function(){console.log("Unverified Responders Profiles",e.state.respondersProfiles)})})})})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.responders?r.a.createElement(L.a,{celled:!0,compact:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Unverified Responders "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Action"))),r.a.createElement(L.a.Body,null,this.state.respondersProfiles.filter(gt(this.state.search)).map(function(t){return r.a.createElement(Et,{firstName:t.firstName,lastName:t.lastName,contactNumber:t.contactNumber,email:t.email,uid:t.key,verify:e.verify})}))):this.state.responders?null:r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"},"Unverified Responders"),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Action"))),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{colSpan:"4",style:{paddingTop:"40px",paddingBottom:"40px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Unverified Volunteer Users"))))))))}}]),t}(n.Component),vt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"UnverifiedMobileUsers"},r.a.createElement(bt,null)))}}]),t}(n.Component),yt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).verify=function(e){var t=a.state.volunteersProfiles.filter(function(t){return t.key!==e});a.setState({volunteersProfiles:t})},a.searchHandler=function(e){a.setState({search:e.target.value})},a.state={volunteers:[{}],volunteersProfiles:[{}],search:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a={};x.database().ref("unverifiedMobileUsers").orderByChild("user_type").equalTo("Volunteer").once("value",function(n){e.setState({volunteers:n.val()},function(){console.log("unverified volunteers",e.state.volunteers),Q.a.map(e.state.volunteers,function(n,r){x.database().ref("users/".concat(r)).once("value",function(n){(a=n.val()).key=n.key,t.push(a),e.setState({volunteersProfiles:t},function(){console.log("Unverified Volunteers Profiles",e.state.volunteersProfiles)})})})})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.volunteers?r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Unverified Volunteers "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Action"))),r.a.createElement(L.a.Body,null,this.state.volunteersProfiles.filter(gt(this.state.search)).map(function(t){return r.a.createElement(Et,{firstName:t.firstName,lastName:t.lastName,contactNumber:t.contactNumber,email:t.email,uid:t.key,verify:e.verify})}))):this.state.volunteers?null:r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"},"Unverified Volunteers"),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Action"))),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{colSpan:"4",style:{paddingTop:"40px",paddingBottom:"40px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Unverified Volunteer Users"))))))))}}]),t}(n.Component),Nt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"UnverifiedMobileUsers"},r.a.createElement(yt,null)))}}]),t}(n.Component),Ct=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).verify=function(e){var t=a.state.regularUsersProfiles.filter(function(t){return t.key!==e});a.setState({regularUsersProfiles:t})},a.searchHandler=function(e){a.setState({search:e.target.value})},a.state={regularUsers:[{}],regularUsersProfiles:[{}],search:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[],a={};x.database().ref("unverifiedMobileUsers").orderByChild("user_type").equalTo("Regular User").once("value",function(n){e.setState({regularUsers:n.val()},function(){console.log("unverified regular users",e.state.regularUsers),Q.a.map(e.state.regularUsers,function(n,r){x.database().ref("users/".concat(r)).once("value",function(n){(a=n.val()).key=n.key,t.push(a),e.setState({regularUsersProfiles:t},function(){console.log("Unverified Regular Users Profiles",e.state.regularUsersProfiles)})})})})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.regularUsers?r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Unverified Regular Users "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Action")),r.a.createElement(L.a.Row,null)),r.a.createElement(L.a.Body,null,this.state.regularUsersProfiles.filter(gt(this.state.search)).map(function(t){return r.a.createElement(Et,{firstName:t.firstName,lastName:t.lastName,contactNumber:t.contactNumber,email:t.email,uid:t.key,verify:e.verify})}))):this.state.regularUsers?null:r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"},"Unverified Regular Users"),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Action"))),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{colSpan:"4",style:{paddingTop:"40px",paddingBottom:"40px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Unverified Regular Users"))))))))}}]),t}(n.Component),At=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"UnverifiedMobileUsers"},r.a.createElement(Ct,null)))}}]),t}(n.Component),Vt=RegExp(/^([a-zA-Z0-9_.\-]+)@([a-zA-Z]+)\.([a-zA-Z]{2,5})$/),wt=RegExp(/^(09|\+639)\d{9}$/),xt=RegExp(/^[a-zA-Z\xf1\xd1.,'-\s]+$/),Rt=RegExp(/^[a-zA-Z\xf1\xd1.,'-\s]+$/),qt=RegExp(/^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/),Ut=function(e){var t=e.formError,a=Object(we.a)(e,["formError"]),n=!0;return Object.values(t).forEach(function(e){e.length>0&&(n=!1)}),Object.values(a).forEach(function(e){null===e&&(n=!1)}),n},St=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleCreateAccount=function(e){e.preventDefault();var t=e.target,n=t.name,r=t.value,l=Object(D.a)({},a.state.formError);switch(n){case"firstName":l.firstName=xt.test(r)?"":"Please enter a valid name.";break;case"lastName":l.lastName=Rt.test(r)?"":"Please enter a valid name.";break;case"email":l.email=Vt.test(r)?"":"Please enter a valid email address.";break;case"password":l.password=qt.test(r)?"":"Password must be 8 characters or longer, should contain at least 1 lowercase and 1 uppercase letter, and at least one special character";break;case"contactNumber":l.contactNumber=wt.test(r)?"":"Please enter a valid number (09XXXXXXXX or +639XXXXXXXX)"}a.setState(Object(o.a)({formError:l},n,r),function(){return console.log(a.state)})},a.inputUserTypeHandler=function(e,t){var n=t.value;a.setState({user_type:n})},a.inputUserTypeHandler_volunteer=function(e,t){var n=t.value;a.setState({isActiveVolunteer:n})},a.inputUserTypeHandler_medicalDegree=function(e,t){var n=t.value;a.setState({medicalDegree:n})},a.inputUserTypeHandler_medicalProfession=function(e,t){var n=t.value;a.setState({medicalProfession:n})},a.inputUserTypeHandler_durationService=function(e,t){var n=t.value;a.setState({durationService:n})},a.inputUserTypeHandler_certification=function(e,t){var n=t.value;a.setState({certification:n})},a.inputSex=function(e,t){var n=t.value;a.setState({sex:n})},a.submitCreateAccount=function(e){e.preventDefault();var t=!1,n="";"Regular User"!==a.state.user_type&&"Responder"!==a.state.user_type&&"Volunteer"!==a.state.user_type||(t=!0);var r={firstName:a.state.firstName,lastName:a.state.lastName,password:a.state.password,email:a.state.email,user_type:a.state.user_type,contactNumber:a.state.contactNumber,sex:a.state.sex,isMobile:t,isVerified:!1},l={medicalProfession:a.state.medicalProfession,medicalDegree:a.state.medicalDegree,certification:a.state.certification,isActiveVolunteer:a.state.isActiveVolunteer,forVA:!1,forPI:!1,durationService:a.state.durationService};Ut(a.state)&&console.log("\n            --SUBMITTING--\n            First Name: ".concat(a.state.firstName,"\n            Last Name: ").concat(a.state.lastName,"\n            Email: ").concat(a.state.email,"\n            Password: ").concat(a.state.password,"\n            Contact Number: ").concat(a.state.contactNumber,"\n            Sex: ").concat(a.state.sex,"\n            User Type: ").concat(a.state.user_type,"\n          ")),"Volunteer"===r.user_type?(n=qe(r,l),a.setState({err:n})):(n=qe(r),a.setState({err:n})),a.setState({firstName:"",lastName:"",userName:"",password:"",email:"",user_type:"",contactNumber:"",sex:"",medicalProfession:"",medicalDegree:"",certification:"",isActiveVolunteer:""})},a.deleteUser=function(){q()(Object(o.a)({title:"Are you sure?",text:"Once deleted, you will not be able to recover this account!",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){if(e){if("Administrator"===a.props.user_type||"Command Center Personnel"===a.props.user_type){var t=x.database().ref("webUsers/".concat(a.props.user_type,"/").concat(a.props.uid)),n=x.database().ref("users/".concat(a.props.uid));console.log("in web delete"),w.auth().signInWithEmailAndPassword(a.props.email,a.props.password).then(function(){w.auth().currentUser.delete().then(function(){console.log("ID: ".concat(a.props.uid," has been removed from authentication")),t.remove().then(function(){console.log("".concat(a.props.uid," removed from webUsers node")),n.remove().then(function(){console.log("".concat(a.props.uid," removed from users node")),a.props.delete(a.props.uid)})})}).catch(function(){console.log("Error in removing ID: ".concat(a.props.uid," from authentication"))})}).catch(function(e){console.log("Error in login for ".concat(a.props.uid),e)})}else if("Regular User"===a.props.user_type||"Responder"===a.props.user_type||"Volunteer"===a.props.user_type){var r=x.database().ref("mobileUsers/".concat(a.props.user_type,"/").concat(a.props.uid)),l=x.database().ref("users/".concat(a.props.uid));w.auth().signInWithEmailAndPassword(a.props.email,a.props.password).then(function(){r.remove().then(function(){console.log("".concat(a.props.uid," removed from mobileUsers node")),l.remove().then(function(){(console.log("".concat(a.props.uid," removed from users node")),"Volunteer"===a.props.user_type&&x.database().ref("credentials/".concat(a.props.uid)).remove().then(function(){console.log("".concat(a.props.uid," credentials have been deleted")),a.props.delete(a.props.uid)}),a.props.isVerified)?a.props.delete(a.props.uid):x.database().ref("unverifiedMobileUsers/".concat(a.props.uid)).remove().then(function(){a.props.delete(a.props.uid)})})})}).catch(function(e){console.log("Error in login for ".concat(a.props.uid),e)})}q()("The account has been deleted!",{icon:"success"})}else q()(a.props.email,"This account is safe!")})},a.updateUserFirstName=function(){q()(Object(o.a)({title:"Are you sure you want to edit this account's first name?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("users/".concat(a.props.uid)).update({firstName:a.state.firstName},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}):q()("Edit First Name has been cancelled!")})},a.updateUserLastName=function(){q()(Object(o.a)({title:"Are you sure you want to edit this account's last name?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("users/".concat(a.props.uid)).update({lastName:a.state.lastName},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}):q()("Edit Last Name has been cancelled!")})},a.updateUserEmail=function(){q()(Object(o.a)({title:"Are you sure you want to edit this account's email?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?(x.database().ref("users/".concat(a.props.uid)).update({email:a.state.email},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}),w.auth().signInWithEmailAndPassword(a.props.email,a.props.password).then(function(){var e=w.auth().currentUser;console.log("auth",e);var t=a.state.email;e.updateEmail(t).then(function(){console.log("email updated successfully!")}).catch(function(e){console.log("email: error updating in authentication"),q()("Update failed",{icon:"error"})})}).catch(function(e){console.log("Error in login for ".concat(a.props.uid),e)})):q()("Edit Email has been cancelled!")})},a.updateUserContactNumber=function(){q()(Object(o.a)({title:"Are you sure you want to edit this account's contact number?",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["No","Yes"])).then(function(e){e?x.database().ref("users/".concat(a.props.uid)).update({contactNumber:a.state.contactNumber},function(e){e?(console.log("error updating"),q()("Update failed",{icon:"error"})):(console.log("updated successfully!"),q()("Account successfully updated!",{icon:"success"}))}):q()("Edit Contact Number has been cancelled!")})},a.state={editFirstName:!1,firstName:"",lastName:"",password:"",email:"",user_type:"",contactNumber:"",sex:"",errorMessage:"",durationService:"",medicalDegree:"",medicalProfession:"",certification:"",isActiveVolunteer:"",formError:{firstName:"",lastName:"",email:"",password:"",contactNumber:"",sex:"",user_type:""},userID:""},a.submitCreateAccount=a.submitCreateAccount.bind(Object(p.a)(Object(p.a)(a))),a.toggleShow=a.toggleShow.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"toggleShow",value:function(){this.setState({hidden:!this.state.hidden})}},{key:"render",value:function(){var e=this,t=this.state.formError;return r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"5"},r.a.createElement(E.a,{as:"h4",image:!0},"Male"===this.props.sex?r.a.createElement(I.a,{src:"https://react.semantic-ui.com/images/avatar/small/elliot.jpg",rounded:!0,size:"mini",circular:!0}):r.a.createElement(I.a,{src:"https://react.semantic-ui.com/images/avatar/small/lena.png",rounded:!0,size:"mini",circular:!0}),r.a.createElement(E.a.Content,null,r.a.createElement(M.a,{trigger:r.a.createElement("a",{positive:!0},this.props.firstName," ",this.props.lastName),closeIcon:!0,size:"tiny"},r.a.createElement(M.a.Header,null,"Account Details"),r.a.createElement(M.a.Content,{style:{backgroundColor:"#c5e2ff"}},r.a.createElement("div",{style:{fontSize:"1.03em",fontFamily:"sans-serif",color:"#0b233b"}},r.a.createElement("pre",{style:{fontSize:"1.03em",fontFamily:"sans-serif",marginBottom:"0px",marginTop:"5px"}},r.a.createElement(P.a,{name:"user"}),r.a.createElement("b",null,"Name                   : "),this.props.firstName," ",this.props.lastName),r.a.createElement("pre",{style:{fontSize:"1.03em",fontFamily:"sans-serif",marginBottom:"0px",marginTop:"5px"}},r.a.createElement(P.a,{name:"mobile"}),r.a.createElement("b",null,"Contact Number : "),this.props.contactNumber),r.a.createElement("pre",{style:{fontSize:"1.03em",fontFamily:"sans-serif",marginBottom:"0px",marginTop:"5px"}},r.a.createElement(P.a,{name:"mail"}),r.a.createElement("b",null,"Email Address    : "),this.props.email),r.a.createElement("pre",{style:{fontSize:"1.03em",fontFamily:"sans-serif",marginBottom:"0px",marginTop:"5px"}},r.a.createElement(P.a,{name:"map marker alternate"}),r.a.createElement("b",null,"Address               : "),this.props.address),r.a.createElement("pre",{style:{fontSize:"1.03em",fontFamily:"sans-serif",marginBottom:"0px",marginTop:"5px"}},"Male"===this.props.sex?r.a.createElement(P.a,{name:"male"}):r.a.createElement(P.a,{name:"female"}),r.a.createElement("b",null,"Sex                       : "),this.props.sex),r.a.createElement("pre",{style:{fontSize:"1.03em",fontFamily:"sans-serif",marginBottom:"0px",marginTop:"5px"}},r.a.createElement(P.a,{name:"address card outline"}),r.a.createElement("b",null,"UID                       : "),this.props.uid))),r.a.createElement(M.a.Actions,{style:{padding:"25px"}}))))),r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement(E.a.Content,null,this.props.email)),r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement(E.a.Content,null,this.props.contactNumber)),r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement(b.a.Group,null,r.a.createElement(M.a,{trigger:r.a.createElement(b.a,{positive:!0},"Update"),closeIcon:!0,size:"small",basic:!0},r.a.createElement(M.a.Header,null,"Edit Account"),r.a.createElement(M.a.Content,null,r.a.createElement(L.a,{celled:!0,collapsing:!0,selectable:!0},r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement("b",null,"First Name:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"text",name:"firstName",className:t.firstName.length>0?"error":null,style:{color:"white"},placeholder:"First Name",onChange:this.handleCreateAccount,defaultValue:this.props.firstName,ref:function(t){return e.firstName=t}})),t.firstName.length>0&&r.a.createElement("span",{className:"errorMessage"},t.firstName))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserFirstName,disabled:this.state.formError.firstName},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement("b",null,"Last Name:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"text",name:"lastName",className:t.lastName.length>0?"error":null,style:{color:"white"},placeholder:"Last Name",onChange:this.handleCreateAccount,defaultValue:this.props.lastName,ref:function(t){return e.lastName=t}})),t.lastName.length>0&&r.a.createElement("span",{className:"errorMessage"},t.lastName))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserLastName,disabled:this.state.formError.lastName},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement("b",null,"Email:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"email",name:"email",className:t.email.length>0?"error":null,style:{color:"white"},placeholder:"Last Name",onChange:this.handleCreateAccount,defaultValue:this.props.email,ref:function(t){return e.email=t}})),t.email.length>0&&r.a.createElement("span",{className:"errorMessage"},t.email))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserEmail,disabled:this.state.formError.email},"Edit",r.a.createElement(P.a,{name:"edit"})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement("b",null,"Contact:")),r.a.createElement(L.a.Cell,null,r.a.createElement(g.a,null,r.a.createElement(g.a.Field,null,r.a.createElement(g.a.Input,{fluid:!0,noValidate:!0,type:"text",name:"contactNumber",className:t.contactNumber.length>0?"error":null,style:{color:"white"},placeholder:"Contact Number",onChange:this.handleCreateAccount,defaultValue:this.props.contactNumber,ref:function(t){return e.contactNumber=t}})),t.contactNumber.length>0&&r.a.createElement("span",{className:"errorMessage"},t.contactNumber))),r.a.createElement(L.a.Cell,{width:"2"},r.a.createElement(b.a,{color:"green",icon:!0,labelPosition:"right",onClick:this.updateUserContactNumber,disabled:this.state.formError.contactNumber},"Edit",r.a.createElement(P.a,{name:"edit"})))))))),r.a.createElement(b.a.Or,null),r.a.createElement(b.a,{onClick:this.deleteUser},"Delete"))))}}]),t}(n.Component),Ot=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).searchHandler=function(e){a.setState({search:e.target.value})},a.delete=function(e){var t=a.state.adminsProfiles.filter(function(t){return t.key!==e});a.setState({adminsProfiles:t})},a.state={admins:[{}],adminsProfiles:[{}],administrators:[{}],search:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];x.database().ref("users").orderByChild("user_type").equalTo("Administrator").once("value",function(a){e.setState({administrators:a.val()},function(){Q.a.map(e.state.administrators,function(e,a){var n=e;n.key=a,console.log("temp admin",n),t.push(n)}),e.setState({adminsProfiles:t},function(){console.log("adminsprofile",e.state.adminsProfiles)})})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.administrators?r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Administrators "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Actions"))),r.a.createElement(L.a.Body,null,this.state.adminsProfiles.filter(gt(this.state.search)).map(function(t){return r.a.createElement(St,{user_type:t.user_type,firstName:t.firstName,lastName:t.lastName,contactNumber:t.contactNumber,email:t.email,address:t.address,password:t.password,sex:t.sex,uid:t.key,delete:e.delete})}))):this.state.administrators?null:r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Administrators "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Actions"))),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{colSpan:"4",style:{paddingTop:"40px",paddingBottom:"40px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Admin Accounts"))))))))}}]),t}(n.Component),Pt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"ManageUserAccounts"},r.a.createElement(Ot,null)))}}]),t}(n.Component),jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).searchHandler=function(e){a.setState({search:e.target.value})},a.delete=function(e){var t=a.state.ccpProfiles.filter(function(t){return t.key!==e});a.setState({ccpProfiles:t})},a.state={admins:[{}],ccpProfiles:[{}],commandCenterPersonnel:[{}],search:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];x.database().ref("users").orderByChild("user_type").equalTo("Command Center Personnel").once("value",function(a){e.setState({commandCenterPersonnel:a.val()},function(){Q.a.map(e.state.commandCenterPersonnel,function(e,a){var n=e;n.key=a,console.log("temp ccp",n),t.push(n)}),e.setState({ccpProfiles:t},function(){console.log("ccpProfiles",e.state.ccpProfiles)})})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.commandCenterPersonnel?r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Command Center Personnels "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Actions"))),r.a.createElement(L.a.Body,null,this.state.ccpProfiles.filter(gt(this.state.search)).map(function(t){return r.a.createElement(St,{user_type:t.user_type,firstName:t.firstName,lastName:t.lastName,sex:t.sex,address:t.address,contactNumber:t.contactNumber,email:t.email,password:t.password,uid:t.key,delete:e.delete})}))):this.state.commandCenterPersonnel?null:r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Command Center Personnel "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Actions"))),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{colSpan:"4",style:{paddingTop:"40px",paddingBottom:"40px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Command Center Personnel Accounts"))))))))}}]),t}(n.Component),kt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"ManageUserAccounts"},r.a.createElement(jt,null)))}}]),t}(n.Component),Tt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).searchHandler=function(e){a.setState({search:e.target.value})},a.delete=function(e){console.log("in delete function");var t=a.state.respondersProfiles.filter(function(t){return console.log("in filter"),t.key!==e});a.setState({respondersProfiles:t},function(){console.log("state array updated")})},a.state={responders:[{}],respondersProfiles:[{}],search:""},a.update=a.update.bind(Object(p.a)(Object(p.a)(a))),console.log("this",Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];x.database().ref("users").orderByChild("user_type").equalTo("Responder").once("value",function(a){e.setState({responders:a.val()},function(){Q.a.map(e.state.responders,function(e,a){var n=e;n.key=a,console.log("temp responder",n),t.push(n)}),e.setState({respondersProfiles:t},function(){console.log("respondersProfiles",e.state.respondersProfiles)})})})}},{key:"update",value:function(){console.log("updateDetails")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.responders?r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Responders "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Actions"))),r.a.createElement(L.a.Body,null,this.state.respondersProfiles.filter(gt(this.state.search)).map(function(t){return r.a.createElement(St,{isVerified:e.isVerified,user_type:t.user_type,firstName:t.firstName,lastName:t.lastName,sex:t.sex,contactNumber:t.contactNumber,email:t.email,address:t.address,password:t.password,uid:t.key,delete:e.delete,update:e.update})}))):this.state.responders?null:r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Responders "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Actions"))),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{colSpan:"4",style:{paddingTop:"40px",paddingBottom:"40px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Responder Accounts"))))))))}}]),t}(n.Component),Dt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"ManageUserAccounts"},r.a.createElement(Tt,null)))}}]),t}(n.Component),Bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).searchHandler=function(e){a.setState({search:e.target.value})},a.delete=function(e){console.log("in delete function");var t=a.state.volunteerProfiles.filter(function(t){return console.log("in filter"),t.key!==e});a.setState({volunteerProfiles:t},function(){console.log("state array updated")})},a.state={volunteerProfiles:[{}],volunteers:[{}],search:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];x.database().ref("users").orderByChild("user_type").equalTo("Volunteer").once("value",function(a){e.setState({volunteers:a.val()},function(){Q.a.map(e.state.volunteers,function(e,a){var n=e;n.key=a,console.log("temp volunteer",n),t.push(n)}),e.setState({volunteerProfiles:t},function(){console.log("volunteerProfiles",e.state.volunteerProfiles)})})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.volunteers?r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Volunteers "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Actions"))),r.a.createElement(L.a.Body,null,this.state.volunteerProfiles.filter(gt(this.state.search)).map(function(t){return r.a.createElement(St,{user_type:t.user_type,firstName:t.firstName,lastName:t.lastName,sex:t.sex,contactNumber:t.contactNumber,email:t.email,password:t.password,address:t.address,uid:t.key,delete:e.delete})}))):this.state.volunteers?null:r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Volunteers "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Actions"))),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{colSpan:"4",style:{paddingTop:"40px",paddingBottom:"40px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Volunteer Accounts"))))))))}}]),t}(n.Component),Mt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"ManageUserAccounts"},r.a.createElement(Bt,null)))}}]),t}(n.Component),Ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).searchHandler=function(e){a.setState({search:e.target.value})},a.delete=function(e){console.log("in delete function");var t=a.state.regularUsersProfiles.filter(function(t){return console.log("in filter"),t.key!==e});a.setState({regularUsersProfiles:t},function(){console.log("state array updated")})},a.state={regularUsersProfiles:[{}],regularUsers:[{}],search:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=[];x.database().ref("users").orderByChild("user_type").equalTo("Regular User").once("value",function(a){e.setState({regularUsers:a.val()},function(){Q.a.map(e.state.regularUsers,function(e,a){var n=e;n.key=a,console.log("temp regularUser",n),t.push(n)}),e.setState({regularUsersProfiles:t},function(){console.log("regularUsersProfiles",e.state.regularUsersProfiles)})})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.regularUsers?r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Regular Users "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Status"))),r.a.createElement(L.a.Body,null,this.state.regularUsersProfiles.filter(gt(this.state.search)).map(function(t){return r.a.createElement(St,{user_type:t.user_type,firstName:t.firstName,lastName:t.lastName,sex:t.sex,contactNumber:t.contactNumber,email:t.email,address:t.address,password:t.password,uid:t.key,delete:e.delete})}))):this.state.regularUsers?null:r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Regular Users "),r.a.createElement(L.a.HeaderCell,{colSpan:"2"},r.a.createElement("form",null,r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{style:{width:"350px"}},"Name"),r.a.createElement(L.a.HeaderCell,{style:{width:"300px"}},"Email"),r.a.createElement(L.a.HeaderCell,null,"Contact Number"),r.a.createElement(L.a.HeaderCell,null,"Actions"))),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{colSpan:"4",style:{paddingTop:"40px",paddingBottom:"40px"}},r.a.createElement(F.a,{info:!0},r.a.createElement(F.a.Header,null,r.a.createElement("div",{style:{fontSize:"18px",textAlign:"center"}},r.a.createElement(P.a,{name:"user"}),"No Regular User Accounts"))))))))}}]),t}(n.Component),It=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"ManageUserAccounts"},r.a.createElement(Ft,null)))}}]),t}(n.Component),Lt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).forgotPassword=function(){if(""===a.state.email)a.setState({emailError:!0}),console.log("Blank email field");else{a.setState({emailError:!1});var e=x.auth(),t=a.state.email;e.sendPasswordResetEmail(t).then(function(){q()("A message has been sent to your email account with instruction to reset your password",{icon:"success"})}).catch(function(e){var t=e.message;console.log(t),a.setState({err:t})})}},a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a.state={email:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return r.a.createElement("div",{className:"login-form"},r.a.createElement(f.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(f.a.Column,{style:{maxWidth:450}},r.a.createElement(h.a,{stacked:!0,style:{marginTop:"20px"}},r.a.createElement(E.a,{as:"h2",color:"red",textAlign:"center"},"Reset Password"),r.a.createElement(g.a,{size:"large"},r.a.createElement("div",{style:{marginTop:"30px",marginBottom:"20px"}},r.a.createElement(g.a.Input,{fluid:!0,icon:"user",iconPosition:"left",type:"email",placeholder:"E-mail address",name:"email",value:this.state.email,error:this.state.emailError,onChange:this.handleChange})),r.a.createElement("div",{className:"space"}),r.a.createElement(b.a,{inverted:!0,color:"red",fluid:!0,size:"large",onClick:this.forgotPassword},"Reset My Password"),this.state.emailError?r.a.createElement("p",{className:"catchError"},"Please do not leave the email field blank."):null,r.a.createElement("p",{className:"catchError"},this.state.err),r.a.createElement("div",{style:{marginTop:"50px",marginLeft:"235px"}},r.a.createElement(U.a,{to:"login"},"Back to login")))))))}}]),t}(n.Component),Ht=(a(848),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).verifyEmail=function(){x.auth().currentUser.sendEmailVerification().then(function(){q()("A verification link has been sent to your email account!",{icon:"success"})}).catch(function(e){var t=e.message;console.log(t),a.setState({err:t})})},a.handleChange=a.handleChange.bind(Object(p.a)(Object(p.a)(a))),a.state={emailVerified:"",email:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e,t,a=x.auth().currentUser;console.log("userProfile",a),null!=a&&(e=a.emailVerified,t=a.email,console.log("isEmailVerified: ",e),this.setState({emailVerified:e,email:t}),console.log("My Email: ",t))}},{key:"render",value:function(){var e;return e=r.a.createElement(f.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(f.a.Column,{style:{maxWidth:450}},r.a.createElement(h.a,{stacked:!0,style:{marginTop:"20px"}},r.a.createElement(E.a,{as:"h2",color:"red",textAlign:"center"},"Verify your email address"),r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement("p",null,"To finish setting up this Tabang account, we just need to make sure that this email address is yours.")),r.a.createElement("div",{className:"space"}),r.a.createElement(b.a,{inverted:!0,color:"red",fluid:!0,size:"large",onClick:this.verifyEmail},"Verify ",this.state.email),r.a.createElement("p",{className:"catchError"},this.state.err),r.a.createElement("div",{style:{marginTop:"50px",marginLeft:"235px"}},r.a.createElement(U.a,{to:"login"},"Back to login"))))),r.a.createElement("div",{className:"login-form"},e)}}]),t}(n.Component)),zt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).displayImage=function(){return"No photo of incident uploaded by reporter"!==a.props.incidentImage?r.a.createElement("div",{style:{marginTop:"15px",marginBottom:"15px",paddingBottom:"15px",fontSize:"1em",fontFamily:"monospace,monospace"}},r.a.createElement("p",null,r.a.createElement("b",null,"PHOTO OF INCIDENT ")),r.a.createElement("p",null,r.a.createElement(I.a,{style:{paddingLeft:"35px"},src:a.props.incidentImage,size:"large"}))):r.a.createElement("pre",{style:{marginTop:"15px",paddingBottom:"15px",fontSize:"1em",fontFamily:"monospace,monospace"}},r.a.createElement("b",null,"PHOTO OF INCIDENT: "),r.a.createElement("u",null,"  ",a.props.incidentImage,"  "))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e;return r.a.createElement(L.a.Row,null,r.a.createElement(L.a.Cell,{width:"4"},r.a.createElement(E.a,{as:"h4",image:!0},r.a.createElement(E.a.Content,null,r.a.createElement(M.a,{trigger:r.a.createElement("a",{positive:!0},this.props.incidentKey),closeIcon:!0,size:"large"},r.a.createElement(M.a.Content,{style:{backgroundColor:"white"}},r.a.createElement("div",{style:{fontSize:"40px",color:"#16426a",textAlign:"center"}},r.a.createElement("b",null,"INCIDENT REPORT")),r.a.createElement("div",{style:{marginBottom:"0px",marginTop:"-13px",paddingBottom:"45px",textAlign:"center",fontSize:"16px",color:"#16426a"}},r.a.createElement("b",null,this.props.incidentKey)),r.a.createElement(g.a,null,r.a.createElement("div",{style:(e={fontSize:"16px",paddingBottom:"5px"},Object(o.a)(e,"fontSize","1em"),Object(o.a)(e,"fontFamily","monospace,monospace"),Object(o.a)(e,"paddingBottom","15px"),e)},r.a.createElement(g.a.Group,{widths:"2"},r.a.createElement(g.a.Field,null,r.a.createElement("pre",{style:{marginBottom:"0px",marginTop:"5px"}},r.a.createElement("b",null,"REPORTED BY : "),r.a.createElement("u",null,"  ",this.props.incidentReportedBy,"  "))),r.a.createElement(g.a.Field,null,r.a.createElement("pre",{style:{marginBottom:"0px",marginTop:"5px"}},r.a.createElement("b",null,"DATE OF REPORT : "),r.a.createElement("u",null,"  ",this.props.incidentTimeReceived,"  ")))),r.a.createElement(g.a.Group,{widths:"2"},r.a.createElement(g.a.Field,null,r.a.createElement("pre",{style:{marginBottom:"0px",marginTop:"-13px"}},r.a.createElement("b",null,"ASSIGNED RESPONDER : "),r.a.createElement("u",null,"  ",this.props.feedbackByResponder,"  "))),r.a.createElement(g.a.Field,null,r.a.createElement("pre",{style:{marginBottom:"0px",marginTop:"-13px"}},r.a.createElement("b",null,"ASSIGNED VOLUNTEER : "),r.a.createElement("u",null,"  ",this.props.incidentOriginalVolunteer,"  "))))),r.a.createElement("div",{style:{textAlign:"center",backgroundColor:"#16426a",padding:"5px",color:"white",fontSize:"18px"}},r.a.createElement("b",null,"INCIDENT INFORMATION")),r.a.createElement("div",{style:{paddingBottom:"5px",fontSize:"1em",fontFamily:"monospace,monospace"}},r.a.createElement(g.a.Group,{widths:"2"},r.a.createElement(g.a.Field,null,r.a.createElement("pre",{style:{marginBottom:"0px"}},r.a.createElement("b",null,"TYPE OF INCIDENT  : "),r.a.createElement("u",null,"  ",this.props.incidentType,"  "))),r.a.createElement(g.a.Field,null,r.a.createElement("pre",{style:{marginBottom:"0px"}},r.a.createElement("b",null,"SETTLED DATE  : "),r.a.createElement("u",null,"  ",this.props.feedbackTimeSettled,"  ")))),r.a.createElement("div",{style:{marginTop:"-13px",marginBottom:"0px",fontSize:"1em",fontFamily:"monospace,monospace"}},r.a.createElement("b",null,"INCIDENT LOCATION : "),r.a.createElement("u",null,"\xa0\xa0",this.props.incidentLocation,"\xa0\xa0")),r.a.createElement("pre",{style:{marginTop:"5px",marginBottom:"0px"}},r.a.createElement("b",null,"DETAILED LOCATION : "),r.a.createElement("u",null,"  ",this.props.feedbackLocation,"  ")),r.a.createElement("pre",{style:{marginBottom:"15px",marginTop:"5px"}},r.a.createElement("b",null,"      COORDINATES : "),Q.a.map(this.props.incidentCoordinates,function(e){return console.log("inmapcoordinates",e),r.a.createElement("u",null,"  ",e,"  ")})),r.a.createElement("div",{style:{marginBottom:"15px",marginTop:"5px"}},r.a.createElement("b",null,"INCIDENT DESCRIPTION"),r.a.createElement("div",{style:{backgroundColor:"#94a7b9",padding:"30px"}},this.props.feedbackReport)),r.a.createElement("div",{style:{marginBottom:"5px",marginTop:"5px"}},r.a.createElement("b",null,"ADDITIONAL")),""===this.props.incidentAdditionalResponders?r.a.createElement("pre",{style:{marginBottom:"5px",marginTop:"5px"}},r.a.createElement("b",null,"    RESPONDERS : ")," ",r.a.createElement("u",null,"  No Additional Responders Requested  ")):r.a.createElement("pre",{style:{marginBottom:"15px",marginTop:"5px"}},r.a.createElement("b",null,"    RESPONDERS")," ",Q.a.map(this.props.incidentAdditionalResponders,function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,"      Name          : ")," ",r.a.createElement("u",null,"  ",e.name,"  ")),r.a.createElement("div",null,r.a.createElement("b",null,"      Time Received : ")," ",r.a.createElement("u",null,"  ",e.timeReceived,"  ")))})),""===this.props.incidentAdditionalVolunteers?r.a.createElement("pre",{style:{marginBottom:"5px",marginTop:"5px"}},r.a.createElement("b",null,"    VOLUNTEERS : ")," ",r.a.createElement("u",null,"  No Additional Volunteers Requested   ")):r.a.createElement("pre",{style:{marginBottom:"15px",marginTop:"5px"}},r.a.createElement("b",null,"    VOLUNTEERS")," ",Q.a.map(this.props.incidentAdditionalVolunteers,function(e){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,"      Name          : ")," ",r.a.createElement("u",null,"  ",e.name,"  ")),r.a.createElement("div",null,r.a.createElement("b",null,"      Time Received : ")," ",r.a.createElement("u",null,"  ",e.timeReceived,"  ")))}))),r.a.createElement("div",null,this.displayImage()),r.a.createElement("div",{style:{backgroundColor:"#16426a",padding:"15px"}}))))))),r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement(E.a.Content,null,this.props.incidentLocation)),r.a.createElement(L.a.Cell,{width:"3"},r.a.createElement(E.a.Content,null,this.props.incidentTimeReceived)))}}]),t}(n.Component),Qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).searchUser=function(e){return function(t){return(t.incidentLocation+" "+t.incidentID+" "+t.incidentTimeReceived+" "+t.incidentType).toLowerCase().includes(e.toLowerCase())||!e}},a.getArchives=function(){var e=[];x.database().ref("Archives").once("value",function(t){var n=t.val();console.log("archives",n),Q.a.map(n,function(t,a){t.incidentID=a,e.push(t)}),e.sort(function(e,t){return new Date(t.incidentTimeReceived)-new Date(e.incidentTimeReceived)}),a.setState({archives:e},function(){console.log("archiveslist",a.state.archives)})})},a.renderAchives=function(){return Q.a.map(a.state.archives,function(e,t){var a,n,l,s;return console.log("renderAchives",e),console.log("arcive shit",e.incidentCoordinates),a=e.feedbackLocation?e.feedbackLocation:"No detailed location given by reporter",e.feedbackReport?e.feedbackReport:"No feedback report given by responder",n=e.incidentOriginalVolunteer?e.incidentOriginalVolunteer:"No Volunteer requested to respond",l=e.incidentImage?e.incidentImage:"No photo of incident uploaded by reporter",s=e.incidentLocation&&""!==e.incidentLocation?e.incidentLocation:"Pinned location (See coordinates or Detailed Location)",!e.image_uri||e.image_uri,r.a.createElement(zt,{incidentKey:e.incidentID,feedbackByResponder:e.feedbackByResponder,feedbackLocation:a,feedbackReport:e.feedbackReport,feedbackTimeSettled:e.feedbackTimeSettled,incidentLocation:s,incidentTimeReceived:e.incidentTimeReceived,incidentCoordinates:e.incidentCoordinates,incidentReportedBy:e.incidentReportedBy,incidentImage:l,report:e.report,incidentAdditionalResponders:e.incidentAdditionalResponders,incidentAdditionalVolunteers:e.incidentAdditionalVolunteers,incidentOriginalVolunteer:n,incidentType:e.incidentType})})},a.searchHandler=function(e){a.setState({search:e.target.value})},a.state={archives:[{}],archivesLists:[{}],search:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getArchives()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"VerticalMenu"},r.a.createElement(j,null)),r.a.createElement("div",{className:"Archives"},r.a.createElement(L.a,{celled:!0},r.a.createElement(L.a.Header,null,r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,{colSpan:"2"}," Archives "),r.a.createElement(L.a.HeaderCell,null,r.a.createElement("form",{style:{paddingLeft:"10px"}},r.a.createElement(H.a,{type:"text",name:"",id:"",onChange:this.searchHandler,style:{marginLeft:"75px"}}),r.a.createElement(P.a,{name:"search",style:{marginLeft:"6px"}})))),r.a.createElement(L.a.Row,null,r.a.createElement(L.a.HeaderCell,null,"Incident ID"),r.a.createElement(L.a.HeaderCell,null,"Incident Location"),r.a.createElement(L.a.HeaderCell,null,"Time Received"))),r.a.createElement(L.a.Body,null,this.state.archives.filter(this.searchUser(this.state.search)).map(function(e){var t,a,n,l;return console.log("renderAchives",e.incidentKey),t=e.feedbackLocation?e.feedbackLocation:"No detailed location given by reporter",e.feedbackReport?e.feedbackReport:"No feedback report given by responder",a=e.incidentOriginalVolunteer?e.incidentOriginalVolunteer:"No Volunteer requested to respond",n=e.incidentImage?e.incidentImage:"No photo of incident uploaded by reporter",l=e.incidentLocation&&""!==e.incidentLocation?e.incidentLocation:"Pinned location (See coordinates or Detailed Location)",r.a.createElement(zt,{incidentKey:e.incidentID,feedbackByResponder:e.feedbackByResponder,feedbackLocation:t,feedbackReport:e.feedbackReport,feedbackTimeSettled:e.feedbackTimeSettled,incidentLocation:l,incidentTimeReceived:e.incidentTimeReceived,incidentCoordinates:e.incidentCoordinates,incidentReportedBy:e.incidentReportedBy,incidentImage:n,report:e.report,incidentAdditionalResponders:e.incidentAdditionalResponders,incidentAdditionalVolunteers:e.incidentAdditionalVolunteers,incidentOriginalVolunteer:a,incidentType:e.incidentType})})))))}}]),t}(n.Component),Wt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUserDetails=function(){var e;console.log("getuserdetails",a.state.userID),x.database().ref("users/"+a.state.userID).once("value",function(t){(e=t.val()).uid=a.state.userID,a.setState({user_type:e.user_type}),a.setState({userAccount:e}),a.props.logUser(a.state.userAccount),a.props.logUID(a.state.userID),!1===x.auth().currentUser.emailVerified?q()(Object(o.a)({title:"Please verify your email.",icon:"warning",buttons:!0,dangerMode:!0},"buttons",["Cancel","Verify Email"])).then(function(e){e?U.e.push("/VerifyEmail"):(q()("Email verification is cancelled!"),x.auth().signOut())}):a.rerouteUserAccess()})},a.rerouteUserAccess=function(){switch(a.state.user_type){case"Administrator":console.log("Adminstrator login"),U.e.push("/administrator");break;case"Command Center Personnel":console.log("CC Personnel Login"),U.e.push("/ccpersonnel");break;default:U.e.push("/login")}},a.state={user:{},userID:"",user_type:"",loggedUser:{},userAccount:{firstName:"",lastName:"",email:"",password:"",user_type:"",isMobile:null,contactNumber:""},isVerified:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;x.auth().onAuthStateChanged(function(t){t?(e.setState({user:t,userID:t.uid}),e.getUserDetails()):(e.setState({user:null}),U.e.replace("/login"))})}},{key:"render",value:function(){return r.a.createElement(U.d,{history:U.e},r.a.createElement(U.c,{exact:!0,path:"/login",component:S}),r.a.createElement(ze,{exact:!0,path:"/administrator",component:T,user_type:this.state.user_type}),r.a.createElement(Qe,{exact:!0,path:"/ccpersonnel",component:Me,user_type:this.state.user_type}),r.a.createElement($e,{exact:!0,path:"/CreateNewAccount",component:$e,user_type:this.state.user_type}),r.a.createElement(k,{exact:!0,path:"/Home",component:k,user_type:this.state.user_type}),r.a.createElement(ot,{exact:!0,path:"/Profile",component:ot,user_type:this.state.user_type,user:this.state.userAccount}),r.a.createElement(ht,{exact:!0,path:"/ProfileCCP",component:ht,user_type:this.state.user_type,user:this.state.userAccount}),r.a.createElement(vt,{exact:!0,path:"/UnverifiedResponders",component:vt,user_type:this.state.user_type}),r.a.createElement(Nt,{exact:!0,path:"/UnverifiedVolunteers",component:Nt,user_type:this.state.user_type}),r.a.createElement(At,{exact:!0,path:"/UnverifiedRegularUsers",component:At,user_type:this.state.user_type}),r.a.createElement(Pt,{exact:!0,path:"/AccountsAdmin",component:Pt,user_type:this.state.user_type}),r.a.createElement(kt,{exact:!0,path:"/AccountsCCP",component:kt,user_type:this.state.user_type}),r.a.createElement(Dt,{exact:!0,path:"/AccountsResponder",component:Dt,user_type:this.state.user_type}),r.a.createElement(Mt,{exact:!0,path:"/AccountsVolunteer",component:Mt,user_type:this.state.user_type}),r.a.createElement(It,{exact:!0,path:"/AccountsRegularUser",component:It,user_type:this.state.user_type}),r.a.createElement(Lt,{exact:!0,path:"/ForgotAccount",component:Lt}),r.a.createElement(Ht,{exact:!0,path:"/VerifyEmail",component:Ht,user_type:this.state.user_type}),r.a.createElement(j,{exact:!0,path:"/VerticalMenu",component:j,user_type:this.state.user_type}),r.a.createElement(Qt,{exact:!0,path:"/Archives",component:Qt,user_type:this.state.user_type}))}}]),t}(n.Component);var Kt=Object(J.b)(function(e,t){return{user:e.user,uid:e.uid}},function(e){return{logUser:function(t){return e(function(e){return console.log("user in redux",e),{type:$,payload:{userAccount:e}}}(t))},logUID:function(t){return e(function(e){return{type:ee,payload:{uid:e}}}(t))}}})(Wt),Xt=a(96),Zt=a(429),Gt=a(430),Yt=a(432),Jt={};var _t={};var $t=Object(Xt.combineReducers)({incidents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.payload;case"SAVE_INCIDENT":return[].concat(Object(Yt.a)(e),[t.payload]);default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Jt=t.payload;default:return e}},uid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee:return _t=t.payload;default:return e}}}),ea=Object(Xt.createStore)($t,Object(Gt.composeWithDevTools)(Object(Xt.applyMiddleware)(Zt.a)));console.log("store",ea),s.a.render(r.a.createElement(J.a,{store:ea},r.a.createElement(Kt,null)),document.getElementById("root"))}},[[441,1,2]]]);
//# sourceMappingURL=main.3d0ed56a.chunk.js.map